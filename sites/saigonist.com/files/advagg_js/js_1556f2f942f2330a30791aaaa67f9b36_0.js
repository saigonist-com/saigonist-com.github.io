/* Source and licensing information for the line(s) below can be found at http://www.saigonist.com/sites/saigonist.com/modules/disqus/disqus.js. */
var disqus_shortname='',disqus_developer=0,disqus_url='',disqus_title='',disqus_identifier='',disqus_config=null,disqus_def_name=null,disqus_def_email=null;Drupal.behaviors.disqus=function(context){if(Drupal.settings.disqusCommentDomain||false){disqus_shortname=Drupal.settings.disqusCommentDomain;jQuery.ajax({type:'GET',url:'http://'+disqus_shortname+'.disqus.com/count.js',dataType:'script',cache:true})};if(Drupal.settings.disqus||false)if(jQuery("#disqus_thread").length){var disqus=Drupal.settings.disqus;disqus_shortname=disqus.shortname;disqus_developer=disqus.developer||0;disqus_url=disqus.url;disqus_title=disqus.title;disqus_identifier=disqus.identifier;disqus_def_name=disqus.name||null;disqus_def_email=disqus.email||null;disqus_config=function(){if(disqus.language||false)this.language=disqus.language;if(disqus.remote_auth_s3||false)this.page.remote_auth_s3=disqus.remote_auth_s3;if(disqus.api_key||false)this.page.api_key=disqus.api_key;if(disqus.sso||false)this.sso=disqus.sso};jQuery.ajax({type:'GET',url:'http://'+disqus_shortname+'.disqus.com/embed.js',dataType:'script',cache:true})}};
/* Source and licensing information for the above line(s) can be found at http://www.saigonist.com/sites/saigonist.com/modules/disqus/disqus.js. */
/* Source and licensing information for the line(s) below can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/ajax-responder.js. */
(function($){Drupal.CTools=Drupal.CTools||{};Drupal.CTools.AJAX=Drupal.CTools.AJAX||{};Drupal.CTools.AJAX.commands=Drupal.CTools.AJAX.commands||{};Drupal.CTools.AJAX.commandCache=Drupal.CTools.AJAX.comandCache||{};Drupal.CTools.AJAX.scripts={};Drupal.CTools.AJAX.css={};Drupal.CTools.AJAX.respond=function(data){for(i in data)if(data[i]['command']&&Drupal.CTools.AJAX.commands[data[i]['command']])Drupal.CTools.AJAX.commands[data[i]['command']](data[i])};Drupal.CTools.AJAX.warmCache=function(){$this=$(this);var old_url=$this.attr('href');if($this.hasClass('ctools-fetching')||Drupal.CTools.AJAX.commandCache[old_url])return false;var $objects=$('a[href='+old_url+']');$objects.addClass('ctools-fetching');try{url=old_url.replace(/\/nojs(\/|$)/g,'/ajax$1');$.ajax({type:"POST",url:url,data:{js:1,ctools_ajax:1},global:true,success:function(data){Drupal.CTools.AJAX.commandCache[old_url]=data;$objects.addClass('ctools-cache-warmed').trigger('ctools-cache-warm',[data])},complete:function(){$objects.removeClass('ctools-fetching')},dataType:'json'})}catch(err){$objects.removeClass('ctools-fetching');return false};return false};Drupal.CTools.AJAX.clickAJAXCacheLink=function(){$this=$(this);if($this.hasClass('ctools-fetching')){$this.bind('ctools-cache-warm',function(event,data){Drupal.CTools.AJAX.respond(data)});return false}else if($this.hasClass('ctools-cache-warmed')&&Drupal.CTools.AJAX.commandCache[$this.attr('href')]){Drupal.CTools.AJAX.respond(Drupal.CTools.AJAX.commandCache[$this.attr('href')]);return false}else return Drupal.CTools.AJAX.clickAJAXLink.apply(this)};Drupal.CTools.AJAX.clickAJAXLink=function(){if($(this).hasClass('ctools-ajaxing'))return false;var url=$(this).attr('href'),object=$(this);$(this).addClass('ctools-ajaxing');try{url=url.replace(/\/nojs(\/|$)/g,'/ajax$1');$.ajax({type:"POST",url:url,data:{js:1,ctools_ajax:1},global:true,success:Drupal.CTools.AJAX.respond,error:function(xhr){Drupal.CTools.AJAX.handleErrors(xhr,url)},complete:function(){object.removeClass('ctools-ajaxing')},dataType:'json'})}catch(err){alert("An error occurred while attempting to process "+url);$(this).removeClass('ctools-ajaxing');return false};return false};Drupal.CTools.AJAX.clickAJAXButton=function(){if($(this).hasClass('ctools-ajaxing'))return false;this.form.clk=this;var url=Drupal.CTools.AJAX.findURL(this);$(this).addClass('ctools-ajaxing');var object=$(this);try{if(url){url=url.replace(/\/nojs(\/|$)/g,'/ajax$1');$.ajax({type:"POST",url:url,data:{js:1,ctools_ajax:1},global:true,success:Drupal.CTools.AJAX.respond,error:function(xhr){Drupal.CTools.AJAX.handleErrors(xhr,url)},complete:function(){object.removeClass('ctools-ajaxing')},dataType:'json'})}else{var form=this.form;url=$(form).attr('action');url=url.replace(/\/nojs(\/|$)/g,'/ajax$1');$(form).ajaxSubmit({type:"POST",url:url,data:{js:1,ctools_ajax:1},global:true,success:Drupal.CTools.AJAX.respond,error:function(xhr){Drupal.CTools.AJAX.handleErrors(xhr,url)},complete:function(){object.removeClass('ctools-ajaxing')},dataType:'json'})}}catch(err){alert("An error occurred while attempting to process "+url);$(this).removeClass('ctools-ajaxing');return false};return false};Drupal.CTools.AJAX.handleErrors=function(xhr,path){var error_text='';if((xhr.status==500&&xhr.responseText)||xhr.status==200){error_text=xhr.responseText;error_text=error_text.replace("/&(lt|gt);/g",function(m,p){return(p=="lt")?"<":">"});error_text=error_text.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,"");error_text=error_text.replace(/[\n]+\s+/g,"\n")}else if(xhr.status==500){error_text=xhr.status+': '+Drupal.t("Internal server error. Please see server or PHP logs for error information.")}else error_text=xhr.status+': '+xhr.statusText;alert(Drupal.t("An error occurred at @path.\n\nError Description: @error",{'@path':path,'@error':error_text}))};Drupal.CTools.AJAX.changeAJAX=function(){if($(this).hasClass('ctools-ajaxing'))return false;var url=Drupal.CTools.AJAX.findURL(this);$(this).addClass('ctools-ajaxing');var object=$(this),form_id=$(object).parents('form').get(0).id;try{if(url){url=url.replace(/\/nojs(\/|$)/g,'/ajax$1');$.ajax({type:"POST",url:url,data:{ctools_changed:$(this).val(),js:1,ctools_ajax:1},global:true,success:Drupal.CTools.AJAX.respond,error:function(xhr){Drupal.CTools.AJAX.handleErrors(xhr,url)},complete:function(){object.removeClass('ctools-ajaxing');if($(object).hasClass('ctools-ajax-submit-onchange'))$('form#'+form_id).submit()},dataType:'json'})}else{if($(object).hasClass('ctools-ajax-submit-onchange'))$('form#'+form_id).submit();return false}}catch(err){alert("An error occurred while attempting to process "+url);$(this).removeClass('ctools-ajaxing');return false};return false};Drupal.CTools.AJAX.findURL=function(item){var url='',url_class='.'+$(item).attr('id')+'-url';$(url_class).each(function(){if(url&&$(this).val())url+='/';url+=$(this).val()});return url};Drupal.CTools.AJAX.commands.prepend=function(data){$(data.selector).prepend(data.data);Drupal.attachBehaviors($(data.selector))};Drupal.CTools.AJAX.commands.append=function(data){$(data.selector).append(data.data);Drupal.attachBehaviors($(data.selector))};Drupal.CTools.AJAX.commands.replace=function(data){$(data.selector).replaceWith(data.data);Drupal.attachBehaviors($(data.selector))};Drupal.CTools.AJAX.commands.after=function(data){var object=$(data.data);$(data.selector).after(object);Drupal.attachBehaviors(object)};Drupal.CTools.AJAX.commands.before=function(data){var object=$(data.data);$(data.selector).before(object);Drupal.attachBehaviors(object)};Drupal.CTools.AJAX.commands.html=function(data){$(data.selector).html(data.data);Drupal.attachBehaviors($(data.selector))};Drupal.CTools.AJAX.commands.remove=function(data){$(data.selector).remove()};Drupal.CTools.AJAX.commands.changed=function(data){if(!$(data.selector).hasClass('changed')){$(data.selector).addClass('changed');if(data.star)$(data.selector).find(data.star).append(' <span class="star">*</span> ')}};Drupal.CTools.AJAX.commands.alert=function(data){alert(data.text,data.title)};Drupal.CTools.AJAX.commands.css=function(data){$(data.selector).css(data.argument)};Drupal.CTools.AJAX.commands.css_files=function(data){$('link:not(.ctools-temporary-css)').each(function(){if($(this).attr('type')=='text/css')Drupal.CTools.AJAX.css[$(this).attr('href')]=$(this).attr('href')});var html='';for(i in data.argument)if(!Drupal.CTools.AJAX.css[data.argument[i].file])html+='<link class="ctools-temporary-css" type="text/css" rel="stylesheet" media="'+data.argument[i].media+'" href="'+data.argument[i].file+'" />';if(html){$('link.ctools-temporary-css').remove();$('body').append($(html))}};Drupal.CTools.AJAX.commands.settings=function(data){$.extend(Drupal.settings,data.argument)};Drupal.CTools.AJAX.commands.scripts=function(data){var scripts={};$('script').each(function(){Drupal.CTools.AJAX.scripts[$(this).attr('src')]=$(this).attr('src')});var html='',head=document.getElementsByTagName('head')[0];for(i in data.argument)if(!Drupal.CTools.AJAX.scripts[data.argument[i]]){Drupal.CTools.AJAX.scripts[data.argument[i]]=data.argument[i];var script=document.createElement('script');script.type='text/javascript';script.src=data.argument[i];head.appendChild(script);html+='<script type="text/javascript" src="'+data.argument[i]+'"></script>'};if(html)$('body').append($(html))};Drupal.CTools.AJAX.commands.data=function(data){$(data.selector).data(data.name,data.value)};Drupal.CTools.AJAX.commands.attr=function(data){$(data.selector).attr(data.name,data.value)};Drupal.CTools.AJAX.commands.restripe=function(data){$('tbody tr:not(:hidden)',$(data.selector)).removeClass('even').removeClass('odd').filter(':even').addClass('odd').end().filter(':odd').addClass('even')};Drupal.CTools.AJAX.commands.redirect=function(data){if(data.delay>0){setTimeout(function(){location.href=data.url},data.delay)}else location.href=data.url};Drupal.CTools.AJAX.commands.reload=function(data){location.reload()};Drupal.CTools.AJAX.commands.submit=function(data){$(data.selector).submit()};Drupal.behaviors.CToolsAJAX=function(context){$('a.ctools-use-ajax-cache:not(.ctools-use-ajax-processed)',context).addClass('ctools-use-ajax-processed').click(Drupal.CTools.AJAX.clickAJAXCacheLink).each(function(){Drupal.CTools.AJAX.warmCache.apply(this)});$('a.ctools-use-ajax:not(.ctools-use-ajax-processed)',context).addClass('ctools-use-ajax-processed').click(Drupal.CTools.AJAX.clickAJAXLink);$('input.ctools-use-ajax:not(.ctools-use-ajax-processed), button.ctools-use-ajax:not(.ctools-use-ajax-processed)',context).addClass('ctools-use-ajax-processed').click(Drupal.CTools.AJAX.clickAJAXButton);$('select, input:text, input:radio, input:checkbox',context).filter('.ctools-use-ajax-onchange:not(.ctools-use-ajax-processed)').addClass('ctools-use-ajax-processed').change(Drupal.CTools.AJAX.changeAJAX);if(Drupal.settings.CToolsAJAX.css)$.extend(Drupal.CTools.AJAX.css,Drupal.settings.CToolsAJAX.css);if(Drupal.settings.CToolsAJAX.scripts)$.extend(Drupal.CTools.AJAX.scripts,Drupal.settings.CToolsAJAX.scripts)}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/ajax-responder.js. */
/* Source and licensing information for the line(s) below can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/dimensions.js. */
(function($){$.fn._height=$.fn.height;$.fn._width=$.fn.width;$.fn.height=function(){if(this[0]==window)return self.innerHeight||$.boxModel&&document.documentElement.clientHeight||document.body.clientHeight;if(this[0]==document)return Math.max(document.body.scrollHeight,document.body.offsetHeight);return this._height(arguments[0])};$.fn.width=function(){if(this[0]==window)return self.innerWidth||$.boxModel&&document.documentElement.clientWidth||document.body.clientWidth;if(this[0]==document)return Math.max(document.body.scrollWidth,document.body.offsetWidth);return this._width(arguments[0])};$.fn.innerHeight=function(){return this[0]==window||this[0]==document?this.height():this.css('display')!='none'?this[0].offsetHeight-(parseInt(this.css("borderTopWidth"))||0)-(parseInt(this.css("borderBottomWidth"))||0):this.height()+(parseInt(this.css("paddingTop"))||0)+(parseInt(this.css("paddingBottom"))||0)};$.fn.innerWidth=function(){return this[0]==window||this[0]==document?this.width():this.css('display')!='none'?this[0].offsetWidth-(parseInt(this.css("borderLeftWidth"))||0)-(parseInt(this.css("borderRightWidth"))||0):this.height()+(parseInt(this.css("paddingLeft"))||0)+(parseInt(this.css("paddingRight"))||0)};$.fn.outerHeight=function(){return this[0]==window||this[0]==document?this.height():this.css('display')!='none'?this[0].offsetHeight:this.height()+(parseInt(this.css("borderTopWidth"))||0)+(parseInt(this.css("borderBottomWidth"))||0)+(parseInt(this.css("paddingTop"))||0)+(parseInt(this.css("paddingBottom"))||0)};$.fn.outerWidth=function(){return this[0]==window||this[0]==document?this.width():this.css('display')!='none'?this[0].offsetWidth:this.height()+(parseInt(this.css("borderLeftWidth"))||0)+(parseInt(this.css("borderRightWidth"))||0)+(parseInt(this.css("paddingLeft"))||0)+(parseInt(this.css("paddingRight"))||0)};$.fn.scrollLeft=function(){if(this[0]==window||this[0]==document)return self.pageXOffset||$.boxModel&&document.documentElement.scrollLeft||document.body.scrollLeft;return this[0].scrollLeft};$.fn.scrollTop=function(){if(this[0]==window||this[0]==document)return self.pageYOffset||$.boxModel&&document.documentElement.scrollTop||document.body.scrollTop;return this[0].scrollTop};$.fn.offset=function(options,returnObject){var x=0,y=0,elem=this[0],parent=this[0],absparent=false,relparent=false,op,sl=0,st=0,options=$.extend({margin:true,border:true,padding:false,scroll:true},options||{});do{x+=parent.offsetLeft||0;y+=parent.offsetTop||0;if($.browser.mozilla||$.browser.msie){var bt=parseInt($.css(parent,'borderTopWidth'))||0,bl=parseInt($.css(parent,'borderLeftWidth'))||0;x+=bl;y+=bt;if($.browser.mozilla&&parent!=elem&&$.css(parent,'overflow')!='visible'){x+=bl;y+=bt};if($.css(parent,'position')=='absolute')absparent=true;if($.css(parent,'position')=='relative')relparent=true};if(options.scroll){op=parent.offsetParent;do{sl+=parent.scrollLeft||0;st+=parent.scrollTop||0;parent=parent.parentNode;if($.browser.mozilla&&parent!=elem&&parent!=op&&$.css(parent,'overflow')!='visible'){x+=parseInt($.css(parent,'borderLeftWidth'))||0;y+=parseInt($.css(parent,'borderTopWidth'))||0}}while(op&&parent!=op)}else parent=parent.offsetParent;if(parent&&(parent.tagName.toLowerCase()=='body'||parent.tagName.toLowerCase()=='html')){if(($.browser.safari||($.browser.msie&&$.boxModel))&&$.css(elem,'position')!='absolute'){x+=parseInt($.css(parent,'marginLeft'))||0;y+=parseInt($.css(parent,'marginTop'))||0};if(($.browser.mozilla&&!absparent)||($.browser.msie&&$.css(elem,'position')=='static'&&(!relparent||!absparent))){x+=parseInt($.css(parent,'borderLeftWidth'))||0;y+=parseInt($.css(parent,'borderTopWidth'))||0};break}}while(parent);if(!options.margin){x-=parseInt($.css(elem,'marginLeft'))||0;y-=parseInt($.css(elem,'marginTop'))||0};if(options.border&&($.browser.safari||$.browser.opera)){x+=parseInt($.css(elem,'borderLeftWidth'))||0;y+=parseInt($.css(elem,'borderTopWidth'))||0}else if(!options.border&&!($.browser.safari||$.browser.opera)){x-=parseInt($.css(elem,'borderLeftWidth'))||0;y-=parseInt($.css(elem,'borderTopWidth'))||0};if(options.padding){x+=parseInt($.css(elem,'paddingLeft'))||0;y+=parseInt($.css(elem,'paddingTop'))||0};if(options.scroll&&$.browser.opera&&$.css(elem,'display')=='inline'){sl-=elem.scrollLeft||0;st-=elem.scrollTop||0};var returnValue=options.scroll?{top:y-st,left:x-sl,scrollTop:st,scrollLeft:sl}:{top:y,left:x};if(returnObject){$.extend(returnObject,returnValue);return this}else return returnValue}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/dimensions.js. */
/* Source and licensing information for the line(s) below can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/mc.js. */
(function($){Drupal.CTools=Drupal.CTools||{};Drupal.CTools.Modal=Drupal.CTools.Modal||{};Drupal.CTools.Modal.modalContent=function(content,css,animation,speed){if(!animation){animation='show'}else if(animation!='fadeIn'&&animation!='slideDown')animation='show';if(!speed)speed='fast';css=jQuery.extend({position:'absolute',left:'0px',margin:'0px',background:'#000',opacity:'.55'},css);content.hide();if($('#modalBackdrop'))$('#modalBackdrop').remove();if($('#modalContent'))$('#modalContent').remove();if(self.pageYOffset){var wt=self.pageYOffset}else if(document.documentElement&&document.documentElement.scrollTop){var wt=document.documentElement.scrollTop}else if(document.body)var wt=document.body.scrollTop;var docHeight=$(document).outerHeight()+50,docWidth=$(document).innerWidth(),winHeight=$(window).height(),winWidth=$(window).innerWidth();if(docHeight<winHeight)docHeight=winHeight;$('body').append('<div id="modalBackdrop" style="z-index: 1000; display: none;"></div><div id="modalContent" style="z-index: 1001; position: absolute;">'+$(content).html()+'</div>');modalEventHandler=function(event){target=null;if(event){target=event.target}else{event=window.event;target=event.srcElement};if($(target).filter('*:visible').parents('#modalContent').size())return true;if($('#modalContent'))$('#modalContent').get(0).focus();return false};$('body').bind('focus',modalEventHandler);$('body').bind('keypress',modalEventHandler);var modalContent=$('#modalContent').css('top','-1000px'),mdcTop=wt+(winHeight/2)-(modalContent.outerHeight()/2),mdcLeft=(winWidth/2)-(modalContent.outerWidth()/2);$('#modalBackdrop').css(css).css('top',0).css('height',docHeight+'px').css('width',docWidth+'px').show();modalContent.css({top:mdcTop+'px',left:mdcLeft+'px'}).hide()[animation](speed);modalContentClose=function(){close();return false};$('.close').bind('click',modalContentClose)
function close(){$(window).unbind('resize',modalContentResize);$('body').unbind('focus',modalEventHandler);$('body').unbind('keypress',modalEventHandler);$('.close').unbind('click',modalContentClose);if(animation=='fadeIn')animation='fadeOut';if(animation=='slideDown')animation='slideUp';if(animation=='show')animation='hide';modalContent.hide()[animation](speed);$('#modalContent').remove();$('#modalBackdrop').remove()};modalContentResize=function(){var docHeight=$(document).outerHeight(),docWidth=$(document).innerWidth(),winHeight=$(window).height(),winWidth=$(window).width();if(docHeight<winHeight)docHeight=winHeight;var modalContent=$('#modalContent'),mdcTop=(winHeight/2)-(modalContent.outerHeight()/2),mdcLeft=(winWidth/2)-(modalContent.outerWidth()/2);$('#modalBackdrop').css('height',docHeight+'px').css('width',docWidth+'px').show();modalContent.css('top',mdcTop+'px').css('left',mdcLeft+'px').show()};$(window).bind('resize',modalContentResize);$('#modalContent').focus()};Drupal.CTools.Modal.unmodalContent=function(content,animation,speed){if(!animation){var animation='show'}else if((animation!='fadeOut')&&(animation!='slideUp'))animation='show';if(!speed)var speed='fast';$(window).unbind('resize',modalContentResize);$('body').unbind('focus',modalEventHandler);$('body').unbind('keypress',modalEventHandler);$('.close').unbind('click',modalContentClose);content.each(function(){if(animation=='fade'){$('#modalContent').fadeOut(speed,function(){$('#modalBackdrop').fadeOut(speed,function(){$(this).remove()});$(this).remove()})}else if(animation=='slide'){$('#modalContent').slideUp(speed,function(){$('#modalBackdrop').slideUp(speed,function(){$(this).remove()});$(this).remove()})}else{$('#modalContent').remove();$('#modalBackdrop').remove()}})}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/mc.js. */
/* Source and licensing information for the line(s) below can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/modal.js. */
(function($){Drupal.CTools=Drupal.CTools||{};Drupal.CTools.Modal=Drupal.CTools.Modal||{};Drupal.CTools.Modal.show=function(){var resize=function(e){var context=e?document:Drupal.CTools.Modal.modal;$('div.ctools-modal-content',context).css({width:$(window).width()*.8+'px',height:$(window).height()*.8+'px'});$('div.ctools-modal-content .modal-content',context).css({width:($(window).width()*.8-25)+'px',height:($(window).height()*.8-35)+'px'})};if(!Drupal.CTools.Modal.modal){Drupal.CTools.Modal.modal=$(Drupal.theme('CToolsModalDialog'));$(window).bind('resize',resize)};resize();$('span.modal-title',Drupal.CTools.Modal.modal).html(Drupal.t('Loading...'));var opts={opacity:Drupal.settings.CToolsModal.backDropOpacity,background:Drupal.settings.CToolsModal.backDropColor};Drupal.CTools.Modal.modalContent(Drupal.CTools.Modal.modal,opts);$('#modalContent .modal-content').html(Drupal.theme('CToolsModalThrobber'))};Drupal.CTools.Modal.dismiss=function(){if(Drupal.CTools.Modal.modal)Drupal.CTools.Modal.unmodalContent(Drupal.CTools.Modal.modal)};Drupal.theme.prototype.CToolsModalDialog=function(){var html='';html+='  <div id="ctools-modal">';html+='    <div class="ctools-modal-content">';html+='      <div class="modal-header">';html+='        <a class="close" href="#">';html+=Drupal.settings.CToolsModal.closeText+Drupal.settings.CToolsModal.closeImage;html+='        </a>';html+='        <span id="modal-title" class="modal-title">&nbsp;</span>';html+='      </div>';html+='      <div id="modal-content" class="modal-content">';html+='      </div>';html+='    </div>';html+='  </div>';return html};Drupal.theme.prototype.CToolsModalThrobber=function(){var html='';html+='  <div id="modal-throbber">';html+='    <div class="modal-throbber-wrapper">';html+=Drupal.settings.CToolsModal.throbber;html+='    </div>';html+='  </div>';return html};Drupal.CTools.Modal.clickAjaxCacheLink=function(){Drupal.CTools.Modal.show();return Drupal.CTools.AJAX.clickAJAXCacheLink.apply(this)};Drupal.CTools.Modal.clickAjaxLink=function(){Drupal.CTools.Modal.show();Drupal.CTools.AJAX.clickAJAXLink.apply(this);if(!$(this).hasClass('ctools-ajaxing'))Drupal.CTools.Modal.dismiss();return false};Drupal.CTools.Modal.clickAjaxButton=function(){if($(this).hasClass('ctools-ajaxing'))return false;Drupal.CTools.Modal.show();Drupal.CTools.AJAX.clickAJAXButton.apply(this);if(!$(this).hasClass('ctools-ajaxing'))Drupal.CTools.Modal.dismiss();return false};Drupal.CTools.Modal.submitAjaxForm=function(){if($(this).hasClass('ctools-ajaxing'))return false;url=$(this).attr('action');$(this).addClass('ctools-ajaxing');var object=$(this);try{url.replace(/\/nojs(\/|$)/g,'/ajax$1');var ajaxOptions={type:'POST',url:url,data:{js:1,ctools_ajax:1},global:true,success:Drupal.CTools.AJAX.respond,error:function(xhr){Drupal.CTools.AJAX.handleErrors(xhr,url)},complete:function(){object.removeClass('ctools-ajaxing');$('div.ctools-ajaxing-temporary').remove()},dataType:'json'};if($(this).attr('enctype')=='multipart/form-data'){$(this).append('<input type="hidden" name="ctools_multipart" value="1">');ajaxIframeOptions={success:Drupal.CTools.AJAX.iFrameJsonRespond,iframe:true};ajaxOptions=$.extend(ajaxOptions,ajaxIframeOptions)};$(this).ajaxSubmit(ajaxOptions)}catch(err){alert("An error occurred while attempting to process "+url);$(this).removeClass('ctools-ajaxing');$('div.ctools-ajaxing-temporary').remove();return false};return false};Drupal.CTools.AJAX.iFrameJsonRespond=function(data){var myJson=eval(data);Drupal.CTools.AJAX.respond(myJson)};Drupal.behaviors.ZZCToolsModal=function(context){$('a.ctools-use-modal-cache:not(.ctools-use-modal-processed)',context).addClass('ctools-use-modal-processed').click(Drupal.CTools.Modal.clickAjaxCacheLink).each(function(){Drupal.CTools.AJAX.warmCache.apply(this)});$('a.ctools-use-modal:not(.ctools-use-modal-processed)',context).addClass('ctools-use-modal-processed').click(Drupal.CTools.Modal.clickAjaxLink);$('input.ctools-use-modal:not(.ctools-use-modal-processed), button.ctools-use-modal:not(.ctools-use-modal-processed)',context).addClass('ctools-use-modal-processed').click(Drupal.CTools.Modal.clickAjaxButton);$('#modal-content form:not(.ctools-use-modal-processed)',context).addClass('ctools-use-modal-processed').submit(Drupal.CTools.Modal.submitAjaxForm);$('#modal-content input[type="submit"]:not(.ctools-use-modal-processed), button:not(.ctools-use-modal-processed)',context).addClass('ctools-use-modal-processed').click(function(){if(Drupal.autocompleteSubmit&&!Drupal.autocompleteSubmit())return false;if(!$(this.form).hasClass('ctools-ajaxing')){this.form.clk=this;$(this).after('<div class="ctools-ajaxing ctools-ajaxing-temporary"> &nbsp; </div>')}})};Drupal.CTools.AJAX.commands.modal_display=function(command){$('#modal-title').html(command.title);$('#modal-content').html(command.output);Drupal.attachBehaviors()};Drupal.CTools.AJAX.commands.modal_dismiss=function(command){Drupal.CTools.Modal.dismiss();$('link.ctools-temporary-css').remove()};Drupal.CTools.AJAX.commands.modal_loading=function(command){Drupal.CTools.AJAX.commands.modal_display({output:Drupal.theme('CToolsModalThrobber'),title:Drupal.t('Loading...')})}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at http://www.saigonist.com/sites/all/modules/3rdparty/ctools/js/modal.js. */
/*
 * jQuery Form Plugin
 * version: 2.25 (08-APR-2009)
 * @requires jQuery v1.2.2 or later
 * @note This has been modified for ajax.module
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}(';(5($){$.B.1s=5(u){2(!4.G){R(\'1b: 2M 9 2N - 2O 2P 1t\');6 4}2(S u==\'5\')u={T:u};3 v=4.14(\'1c\')||1d.2Q.2R;v=(v.2S(/^([^#]+)/)||[])[1];v=v||\'\';u=$.1n({1e:v,H:4.14(\'1u\')||\'1Q\'},u||{});3 w={};4.L(\'C-1R-1S\',[4,u,w]);2(w.1T){R(\'1b: 9 1U 1o C-1R-1S L\');6 4}2(u.1v&&u.1v(4,u)===I){R(\'1b: 9 1f 1o 1v 1V\');6 4}3 a=4.1w(u.2T);2(u.J){u.O=u.J;K(3 n 1x u.J){2(u.J[n]2U 15){K(3 k 1x u.J[n])a.D({7:n,8:u.J[n][k]})}E a.D({7:n,8:u.J[n]})}}2(u.1y&&u.1y(a,4,u)===I){R(\'1b: 9 1f 1o 1y 1V\');6 4}4.L(\'C-9-1W\',[a,4,u,w]);2(w.1T){R(\'1b: 9 1U 1o C-9-1W L\');6 4}3 q=$.1z(a);2(u.H.2V()==\'1Q\'){u.1e+=(u.1e.2W(\'?\')>=0?\'&\':\'?\')+q;u.J=F}E u.J=q;3 x=4,V=[];2(u.2X)V.D(5(){x.1X()});2(u.2Y)V.D(5(){x.1Y()});2(!u.16&&u.17){3 y=u.T||5(){};V.D(5(a){$(u.17).2Z(a).P(y,1Z)})}E 2(u.T)V.D(u.T);u.T=5(a,b){K(3 i=0,M=V.G;i<M;i++)V[i].30(u,[a,b,x])};3 z=$(\'W:31\',4).18();3 A=I;K(3 j=0;j<z.G;j++)2(z[j])A=Q;2(u.20||A){2(u.21)$.32(u.21,1A);E 1A()}E $.33(u);4.L(\'C-9-34\',[4,u]);6 4;5 1A(){3 h=x[0];2($(\':W[7=9]\',h).G){35(\'36: 37 22 38 39 3a 3b "9".\');6}3 i=$.1n({},$.23,u);3 s=$.1n(Q,{},$.1n(Q,{},$.23),i);3 j=\'3c\'+(1B 3d().3e());3 k=$(\'<20 3f="\'+j+\'" 7="\'+j+\'" 24="25:26" />\');3 l=k[0];k.3g({3h:\'3i\',27:\'-28\',29:\'-28\'});3 m={1f:0,19:F,1g:F,3j:0,3k:\'n/a\',3l:5(){},2a:5(){},3m:5(){},3n:5(){4.1f=1;k.14(\'24\',\'25:26\')}};3 g=i.2b;2(g&&!$.1C++)$.1h.L("3o");2(g)$.1h.L("3p",[m,i]);2(s.2c&&s.2c(m,s)===I){s.2b&&$.1C--;6}2(m.1f)6;3 o=0;3 p=0;3 q=h.U;2(q){3 n=q.7;2(n&&!q.1i){u.O=u.O||{};u.O[n]=q.8;2(q.H=="X"){u.O[7+\'.x\']=h.Y;u.O[7+\'.y\']=h.Z}}}1j(5(){3 t=x.14(\'17\'),a=x.14(\'1c\');h.1k(\'17\',j);2(h.2d(\'1u\')!=\'2e\')h.1k(\'1u\',\'2e\');2(h.2d(\'1c\')!=i.1e)h.1k(\'1c\',i.1e);2(!u.3q){x.14({3r:\'2f/C-J\',3s:\'2f/C-J\'})}2(i.1D)1j(5(){p=Q;11()},i.1D);3 b=[];2g{2(u.O)K(3 n 1x u.O)b.D($(\'<W H="3t" 7="\'+n+\'" 8="\'+u.O[n]+\'" />\').2h(h)[0]);k.2h(\'1l\');l.2i?l.2i(\'2j\',11):l.3u(\'2k\',11,I);h.9()}3v{h.1k(\'1c\',a);t?h.1k(\'17\',t):x.3w(\'17\');$(b).2l()}},10);3 r=0;5 11(){2(o++)6;l.2m?l.2m(\'2j\',11):l.3x(\'2k\',11,I);3 c=Q;2g{2(p)3y\'1D\';3 d,N;N=l.2n?l.2n.2o:l.2p?l.2p:l.2o;2((N.1l==F||N.1l.2q==\'\')&&!r){r=1;o--;1j(11,2r);6}m.19=N.1l?N.1l.2q:F;m.1g=N.2s?N.2s:N;m.2a=5(a){3 b={\'3z-H\':i.16};6 b[a]};2(i.16==\'3A\'||i.16==\'3B\'){3 f=N.1E(\'1F\')[0];m.19=f?f.8:m.19}E 2(i.16==\'2t\'&&!m.1g&&m.19!=F){m.1g=2u(m.19)}d=$.3C(m,i.16)}3D(e){c=I;$.3E(i,m,\'2v\',e)}2(c){i.T(d,\'T\');2(g)$.1h.L("3F",[m,i])}2(g)$.1h.L("3G",[m,i]);2(g&&!--$.1C)$.1h.L("3H");2(i.2w)i.2w(m,c?\'T\':\'2v\');1j(5(){k.2l();m.1g=F},2r)};5 2u(s,a){2(1d.2x){a=1B 2x(\'3I.3J\');a.3K=\'I\';a.3L(s)}E a=(1B 3M()).3N(s,\'1G/2t\');6(a&&a.2y&&a.2y.1p!=\'3O\')?a:F}}};$.B.3P=5(c){6 4.2z().2A(\'9.C-1q\',5(){$(4).1s(c);6 I}).P(5(){$(":9,W:X",4).2A(\'2B.C-1q\',5(e){3 a=4.C;a.U=4;2(4.H==\'X\'){2(e.2C!=12){a.Y=e.2C;a.Z=e.3Q}E 2(S $.B.2D==\'5\'){3 b=$(4).2D();a.Y=e.2E-b.29;a.Z=e.2F-b.27}E{a.Y=e.2E-4.3R;a.Z=e.2F-4.3S}}1j(5(){a.U=a.Y=a.Z=F},10)})})};$.B.2z=5(){4.2G(\'9.C-1q\');6 4.P(5(){$(":9,W:X",4).2G(\'2B.C-1q\')})};$.B.1w=5(b){3 a=[];2(4.G==0)6 a;3 c=4[0];3 d=b?c.1E(\'*\'):c.22;2(!d)6 a;K(3 i=0,M=d.G;i<M;i++){3 e=d[i];3 n=e.7;2(!n)1H;2(b&&c.U&&e.H=="X"){2(!e.1i&&c.U==e)a.D({7:n+\'.x\',8:c.Y},{7:n+\'.y\',8:c.Z});1H}3 v=$.18(e,Q);2(v&&v.1r==15){K(3 j=0,2H=v.G;j<2H;j++)a.D({7:n,8:v[j]})}E 2(v!==F&&S v!=\'12\')a.D({7:n,8:v})}2(!b&&c.U){3 f=c.1E("W");K(3 i=0,M=f.G;i<M;i++){3 g=f[i];3 n=g.7;2(n&&!g.1i&&g.H=="X"&&c.U==g)a.D({7:n+\'.x\',8:c.Y},{7:n+\'.y\',8:c.Z})}}6 a};$.B.3T=5(a){6 $.1z(4.1w(a))};$.B.3U=5(b){3 a=[];4.P(5(){3 n=4.7;2(!n)6;3 v=$.18(4,b);2(v&&v.1r==15){K(3 i=0,M=v.G;i<M;i++)a.D({7:n,8:v[i]})}E 2(v!==F&&S v!=\'12\')a.D({7:4.7,8:v})});6 $.1z(a)};$.B.18=5(a){K(3 b=[],i=0,M=4.G;i<M;i++){3 c=4[i];3 v=$.18(c,a);2(v===F||S v==\'12\'||(v.1r==15&&!v.G))1H;v.1r==15?$.3V(b,v):b.D(v)}6 b};$.18=5(b,c){3 n=b.7,t=b.H,1a=b.1p.1I();2(S c==\'12\')c=Q;2(c&&(!n||b.1i||t==\'1m\'||t==\'3W\'||(t==\'1J\'||t==\'1K\')&&!b.1L||(t==\'9\'||t==\'X\')&&b.C&&b.C.U!=b||1a==\'13\'&&b.1M==-1))6 F;2(1a==\'13\'){3 d=b.1M;2(d<0)6 F;3 a=[],1N=b.3X;3 e=(t==\'13-2I\');3 f=(e?d+1:1N.G);K(3 i=(e?d:0);i<f;i++){3 g=1N[i];2(g.1t){3 v=g.8;2(!v)v=(g.1O&&g.1O[\'8\']&&!(g.1O[\'8\'].3Y))?g.1G:g.8;2(e)6 v;a.D(v)}}6 a}6 b.8};$.B.1Y=5(){6 4.P(5(){$(\'W,13,1F\',4).2J()})};$.B.2J=$.B.3Z=5(){6 4.P(5(){3 t=4.H,1a=4.1p.1I();2(t==\'1G\'||t==\'40\'||1a==\'1F\')4.8=\'\';E 2(t==\'1J\'||t==\'1K\')4.1L=I;E 2(1a==\'13\')4.1M=-1})};$.B.1X=5(){6 4.P(5(){2(S 4.1m==\'5\'||(S 4.1m==\'41\'&&!4.1m.42))4.1m()})};$.B.43=5(b){2(b==12)b=Q;6 4.P(5(){4.1i=!b})};$.B.2K=5(b){2(b==12)b=Q;6 4.P(5(){3 t=4.H;2(t==\'1J\'||t==\'1K\')4.1L=b;E 2(4.1p.1I()==\'2L\'){3 a=$(4).44(\'13\');2(b&&a[0]&&a[0].H==\'13-2I\'){a.45(\'2L\').2K(I)}4.1t=b}})};5 R(){2($.B.1s.46&&1d.1P&&1d.1P.R)1d.1P.R(\'[47.C] \'+15.48.49.4a(1Z,\'\'))}})(4b);',62,260,'||if|var|this|function|return|name|value|submit||||||||||||||||||||||||||||fn|form|push|else|null|length|type|false|data|for|trigger|max|doc|extraData|each|true|log|typeof|success|clk|callbacks|input|image|clk_x|clk_y||cb|undefined|select|attr|Array|dataType|target|a_fieldValue|responseText|tag|ajaxSubmit|action|window|url|aborted|responseXML|event|disabled|setTimeout|setAttribute|body|reset|extend|via|tagName|plugin|constructor|a_ajaxSubmit|selected|method|beforeSerialize|a_formToArray|in|beforeSubmit|param|fileUpload|new|active|timeout|getElementsByTagName|textarea|text|continue|toLowerCase|checkbox|radio|checked|selectedIndex|ops|attributes|console|GET|pre|serialize|veto|vetoed|callback|validate|a_resetForm|a_clearForm|arguments|iframe|closeKeepAlive|elements|ajaxSettings|src|about|blank|top|1000px|left|getResponseHeader|global|beforeSend|getAttribute|POST|multipart|try|appendTo|attachEvent|onload|load|remove|detachEvent|contentWindow|document|contentDocument|innerHTML|100|XMLDocument|xml|toXml|error|complete|ActiveXObject|documentElement|a_ajaxFormUnbind|bind|click|offsetX|offset|pageX|pageY|unbind|jmax|one|a_clearFields|a_selected|option|skipping|process|no|element|location|href|match|semantic|instanceof|toUpperCase|indexOf|resetForm|clearForm|html|apply|file|get|ajax|notify|alert|Error|Form|must|not|be|named|jqFormIO|Date|getTime|id|css|position|absolute|status|statusText|getAllResponseHeaders|setRequestHeader|abort|ajaxStart|ajaxSend|skipEncodingOverride|encoding|enctype|hidden|addEventListener|finally|removeAttr|removeEventListener|throw|content|json|script|httpData|catch|handleError|ajaxSuccess|ajaxComplete|ajaxStop|Microsoft|XMLDOM|async|loadXML|DOMParser|parseFromString|parsererror|a_ajaxForm|offsetY|offsetLeft|offsetTop|a_formSerialize|a_fieldSerialize|merge|button|options|specified|a_clearInputs|password|object|nodeType|a_enable|parent|find|debug|jquery|prototype|join|call|jQuery'.split('|'),0,{}));
/* Source and licensing information for the line(s) below can be found at http://www.saigonist.com/sites/saigonist.com/modules/ajax/ajax.js. */
Drupal.Ajax=new Object();Drupal.Ajax.plugins={};Drupal.Ajax.firstRun=false;Drupal.Ajax.init=function(context){var f,s;if(f=$('.ajax-form',context)){if(!Drupal.Ajax.firstRun){Drupal.Ajax.invoke('init');Drupal.Ajax.firstRun=true};s=$('input[type="image"],input[type="submit"]',f);s.click(function(){this.form.ajax_activator=$(this);return true});f.each(function(){this.ajax_activator=null;$(this).submit(function(){if(this.ajax_activator===null)this.ajax_activator=$('#edit-submit',this);if(this.ajax_activator.hasClass('ajax-trigger')){Drupal.Ajax.go($(this),this.ajax_activator);return false}else return true});return true})};return true};Drupal.Ajax.invoke=function(hook,args){var plugin,r,ret;ret=true;for(plugin in Drupal.Ajax.plugins){r=Drupal.Ajax.plugins[plugin](hook,args);if(r===false)ret=false};return ret};Drupal.Ajax.go=function(formObj,submitter){var submitterVal,submitterName,extraData;Drupal.Ajax.invoke('submit',{submitter:submitter});submitterVal=submitter.val();submitterName=submitter.attr('name');submitter.val(Drupal.t('Loading...'));extraData={};extraData[submitterName]=submitterVal;extraData.drupal_ajax='1';formObj.a_ajaxSubmit({extraData:extraData,beforeSubmit:function(data){data[data.length]={name:submitterName,value:submitterVal};data[data.length]={name:'drupal_ajax',value:'1'};submitter.attr('disabled','disabled');return true},dataType:'json',error:function(XMLHttpRequest,textStatus,errorThrown){window.alert(Drupal.t('ajax.module: An unknown error has occurred.'));if(window.console)console.log('error',arguments);return true},success:function(data){submitter.val(submitterVal);Drupal.Ajax.response(submitter,formObj,data);submitter.removeAttr('disabled');return true}});return false};Drupal.Ajax.message=function(formObj,submitter,data,options){var args;data.local={submitter:submitter,form:formObj};if(Drupal.Ajax.invoke('message',data)){Drupal.Ajax.writeMessage(data.local.form,data.local.submitter,options);Drupal.Ajax.invoke('afterMessage',data)};return true};Drupal.Ajax.writeMessage=function(formObj,submitter,options){var i,_i,thisItem,log,errBox,h,data;if(options.action==='notify'){$('.messages, .ajax-preview',formObj).remove();$('input, textarea').removeClass('error status warning required');if(options.type==='preview'){log=$('<div>').addClass('ajax-preview');log.html(options.messages);formObj.prepend(log)}else{log=$('<ul>');errBox=$(".messages."+options.type,formObj[0]);for(i=0,_i=options.messages.length;i<_i;i++){thisItem=$('#'+options.messages[i].id,formObj[0]);thisItem.addClass(options.type);if(options.messages[i].required)thisItem.addClass('required');log.append('<li>'+options.messages[i].value+'</li>')};if(errBox.length===0){errBox=$("<div class='messages "+options.type+"'>");formObj.prepend(errBox)};errBox.html(log)}}else if(options.action==='clear')$('.messages, .ajax-preview',formObj).remove();return true};Drupal.Ajax.updater=function(updaters){var i,_i,elm;for(i=0,_i=updaters.length;i<_i;i++){elm=$(updaters[i].selector);if(updaters[i].type==='html_in'){elm.html(updaters[i].value)}else if(updaters[i].type==='html_out'){elm.replaceWith(updaters[i].value)}else if(updaters[i].type==='field'){elm.val(updaters[i].value)}else if(updaters[i].type==='remove'){elm.remove()}else if(updaters[i].type==='hide')elm.hide()};return true};Drupal.Ajax.response=function(submitter,formObj,data){var newSubmitter;data.local={submitter:submitter,form:formObj};if(data.status===false){Drupal.Ajax.updater(data.updaters);Drupal.Ajax.message(formObj,submitter,data,{action:'notify',messages:data.messages_error,type:'error'})}else if(data.preview!==null){Drupal.Ajax.updater(data.updaters);Drupal.Ajax.message(formObj,submitter,data,{action:'notify',messages:decodeURIComponent(data.preview),type:'preview'})}else if(data.redirect===null){if(data.messages_status.length>0)Drupal.Ajax.message(formObj,submitter,data,{action:'notify',messages:data.messages_status,type:'status'});if(data.messages_warning.length>0)Drupal.Ajax.message(formObj,submitter,data,{action:'notify',messages:data.messages_warning,type:'warning'});if(data.messages_status.length===0&&data.messages_warning.length===0)Drupal.Ajax.message(formObj,submitter,data,{action:'clear'})}else if(Drupal.Ajax.invoke('redirect',data)){Drupal.Ajax.redirect(data.redirect)}else{Drupal.Ajax.updater(data.updaters);if(data.messages_status.length===0&&data.messages_warning.length===0){Drupal.Ajax.message(formObj,submitter,data,{action:'clear'})}else Drupal.Ajax.message(formObj,submitter,data,{action:'notify',messages:data.messages_status,type:'status'})};return true};Drupal.Ajax.redirect=function(url){window.location.href=url};Drupal.behaviors.Ajax=Drupal.Ajax.init;;
/* Source and licensing information for the above line(s) can be found at http://www.saigonist.com/sites/saigonist.com/modules/ajax/ajax.js. */
/*!
* jQuery Form Plugin
* version: 2.43 (12-MAR-2010)
* @requires jQuery v1.3.2 or later
*
* Examples and documentation at: http://malsup.com/jquery/form/
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*/
(function(b){function o(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log)window.console.log(a);else window.opera&&window.opera.postError&&window.opera.postError(a)}}b.fn.ajaxSubmit=function(a){function d(){function r(){var p=h.attr("target"),n=h.attr("action");j.setAttribute("target",z);j.getAttribute("method")!="POST"&&j.setAttribute("method","POST");j.getAttribute("action")!=g.url&&j.setAttribute("action",g.url);g.skipEncodingOverride||
h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});g.timeout&&setTimeout(function(){C=true;s()},g.timeout);var m=[];try{if(g.extraData)for(var u in g.extraData)m.push(b('<input type="hidden" name="'+u+'" value="'+g.extraData[u]+'" />').appendTo(j)[0]);t.appendTo("body");t.data("form-plugin-onload",s);j.submit()}finally{j.setAttribute("action",n);p?j.setAttribute("target",p):h.removeAttr("target");b(m).remove()}}function s(){if(!D){var p=true;try{if(C)throw"timeout";var n,m;m=v.contentWindow?
v.contentWindow.document:v.contentDocument?v.contentDocument:v.document;var u=g.dataType=="xml"||m.XMLDocument||b.isXMLDoc(m);o("isXml="+u);if(!u&&(m.body==null||m.body.innerHTML=="")){if(--G){o("requeing onLoad callback, DOM not available");setTimeout(s,250);return}o("Could not access iframe DOM after 100 tries.");return}o("response detected");D=true;i.responseText=m.body?m.body.innerHTML:null;i.responseXML=m.XMLDocument?m.XMLDocument:m;i.getResponseHeader=function(H){return{"content-type":g.dataType}[H]};
if(g.dataType=="json"||g.dataType=="script"){var E=m.getElementsByTagName("textarea")[0];if(E)i.responseText=E.value;else{var F=m.getElementsByTagName("pre")[0];if(F)i.responseText=F.innerHTML}}else if(g.dataType=="xml"&&!i.responseXML&&i.responseText!=null)i.responseXML=A(i.responseText);n=b.httpData(i,g.dataType)}catch(B){o("error caught:",B);p=false;i.error=B;b.handleError(g,i,"error",B)}if(p){g.success(n,"success");w&&b.event.trigger("ajaxSuccess",[i,g])}w&&b.event.trigger("ajaxComplete",[i,g]);
w&&!--b.active&&b.event.trigger("ajaxStop");if(g.complete)g.complete(i,p?"success":"error");setTimeout(function(){t.removeData("form-plugin-onload");t.remove();i.responseXML=null},100)}}function A(p,n){if(window.ActiveXObject){n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";n.loadXML(p)}else n=(new DOMParser).parseFromString(p,"text/xml");return n&&n.documentElement&&n.documentElement.tagName!="parsererror"?n:null}var j=h[0];if(b(":input[name=submit]",j).length)alert('Error: Form elements must not be named "submit".');
else{var g=b.extend({},b.ajaxSettings,a),q=b.extend(true,{},b.extend(true,{},b.ajaxSettings),g),z="jqFormIO"+(new Date).getTime(),t=b('<iframe id="'+z+'" name="'+z+'" src="'+g.iframeSrc+'" onload="(jQuery(this).data(\'form-plugin-onload\'))()" />'),v=t[0];t.css({position:"absolute",top:"-1000px",left:"-1000px"});var i={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=
1;t.attr("src",g.iframeSrc)}},w=g.global;w&&!b.active++&&b.event.trigger("ajaxStart");w&&b.event.trigger("ajaxSend",[i,g]);if(q.beforeSend&&q.beforeSend(i,q)===false)q.global&&b.active--;else if(!i.aborted){var D=false,C=0;if(q=j.clk){var y=q.name;if(y&&!q.disabled){g.extraData=g.extraData||{};g.extraData[y]=q.value;if(q.type=="image"){g.extraData[y+".x"]=j.clk_x;g.extraData[y+".y"]=j.clk_y}}}g.forceSync?r():setTimeout(r,10);var G=100}}}if(!this.length){o("ajaxSubmit: skipping submit process - no element selected");
return this}if(typeof a=="function")a={success:a};var e=b.trim(this.attr("action"));if(e)e=(e.match(/^([^#]+)/)||[])[1];e=e||window.location.href||"";a=b.extend({url:e,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a||{});e={};this.trigger("form-pre-serialize",[this,a,e]);if(e.veto){o("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(a.beforeSerialize&&a.beforeSerialize(this,a)===false){o("ajaxSubmit: submit aborted via beforeSerialize callback");
return this}var f=this.formToArray(a.semantic);if(a.data){a.extraData=a.data;for(var c in a.data)if(a.data[c]instanceof Array)for(var l in a.data[c])f.push({name:c,value:a.data[c][l]});else f.push({name:c,value:a.data[c]})}if(a.beforeSubmit&&a.beforeSubmit(f,this,a)===false){o("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[f,this,a,e]);if(e.veto){o("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}c=b.param(f);if(a.type.toUpperCase()==
"GET"){a.url+=(a.url.indexOf("?")>=0?"&":"?")+c;a.data=null}else a.data=c;var h=this,k=[];a.resetForm&&k.push(function(){h.resetForm()});a.clearForm&&k.push(function(){h.clearForm()});if(!a.dataType&&a.target){var x=a.success||function(){};k.push(function(r){var s=a.replaceTarget?"replaceWith":"html";b(a.target)[s](r).each(x,arguments)})}else a.success&&k.push(a.success);a.success=function(r,s,A){for(var j=0,g=k.length;j<g;j++)k[j].apply(a,[r,s,A||h,h])};c=b("input:file",this).fieldValue();l=false;
for(e=0;e<c.length;e++)if(c[e])l=true;if(c.length&&a.iframe!==false||a.iframe||l||0)a.closeKeepAlive?b.get(a.closeKeepAlive,d):d();else b.ajax(a);this.trigger("form-submit-notify",[this,a]);return this};b.fn.ajaxForm=function(a){return this.ajaxFormUnbind().bind("submit.form-plugin",function(d){d.preventDefault();b(this).ajaxSubmit(a)}).bind("click.form-plugin",function(d){var e=d.target,f=b(e);if(!f.is(":submit,input:image")){e=f.closest(":submit");if(e.length==0)return;e=e[0]}var c=this;c.clk=e;
if(e.type=="image")if(d.offsetX!=undefined){c.clk_x=d.offsetX;c.clk_y=d.offsetY}else if(typeof b.fn.offset=="function"){f=f.offset();c.clk_x=d.pageX-f.left;c.clk_y=d.pageY-f.top}else{c.clk_x=d.pageX-e.offsetLeft;c.clk_y=d.pageY-e.offsetTop}setTimeout(function(){c.clk=c.clk_x=c.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a){var d=[];if(this.length==0)return d;var e=this[0],f=a?e.getElementsByTagName("*"):e.elements;
if(!f)return d;for(var c=0,l=f.length;c<l;c++){var h=f[c],k=h.name;if(k)if(a&&e.clk&&h.type=="image"){if(!h.disabled&&e.clk==h){d.push({name:k,value:b(h).val()});d.push({name:k+".x",value:e.clk_x},{name:k+".y",value:e.clk_y})}}else if((h=b.fieldValue(h,true))&&h.constructor==Array)for(var x=0,r=h.length;x<r;x++)d.push({name:k,value:h[x]});else h!==null&&typeof h!="undefined"&&d.push({name:k,value:h})}if(!a&&e.clk){a=b(e.clk);f=a[0];if((k=f.name)&&!f.disabled&&f.type=="image"){d.push({name:k,value:a.val()});
d.push({name:k+".x",value:e.clk_x},{name:k+".y",value:e.clk_y})}}return d};b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=function(a){var d=[];this.each(function(){var e=this.name;if(e){var f=b.fieldValue(this,a);if(f&&f.constructor==Array)for(var c=0,l=f.length;c<l;c++)d.push({name:e,value:f[c]});else f!==null&&typeof f!="undefined"&&d.push({name:this.name,value:f})}});return b.param(d)};b.fn.fieldValue=function(a){for(var d=[],e=0,f=this.length;e<f;e++){var c=
b.fieldValue(this[e],a);c===null||typeof c=="undefined"||c.constructor==Array&&!c.length||(c.constructor==Array?b.merge(d,c):d.push(c))}return d};b.fieldValue=function(a,d){var e=a.name,f=a.type,c=a.tagName.toLowerCase();if(typeof d=="undefined")d=true;if(d&&(!e||a.disabled||f=="reset"||f=="button"||(f=="checkbox"||f=="radio")&&!a.checked||(f=="submit"||f=="image")&&a.form&&a.form.clk!=a||c=="select"&&a.selectedIndex==-1))return null;if(c=="select"){c=a.selectedIndex;if(c<0)return null;d=[];a=a.options;
e=(f=f=="select-one")?c+1:a.length;for(c=f?c:0;c<e;c++){var l=a[c];if(l.selected){var h=l.value;h||(h=l.attributes&&l.attributes.value&&!l.attributes.value.specified?l.text:l.value);if(f)return h;d.push(h)}}return d}return a.value};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var a=this.type,d=this.tagName.toLowerCase();if(a=="text"||a=="password"||d=="textarea")this.value=
"";else if(a=="checkbox"||a=="radio")this.checked=false;else if(d=="select")this.selectedIndex=-1})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)this.reset()})};b.fn.enable=function(a){if(a==undefined)a=true;return this.each(function(){this.disabled=!a})};b.fn.selected=function(a){if(a==undefined)a=true;return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio")this.checked=a;else if(this.tagName.toLowerCase()==
"option"){d=b(this).parent("select");a&&d[0]&&d[0].type=="select-one"&&d.find("option").selected(false);this.selected=a}})}})(jQuery);
;
