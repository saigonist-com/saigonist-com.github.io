<?xml version="1.0" encoding="utf-8" ?><rss version="2.0" xml:base="http://www.saigonist.com/taxonomy/term/30/all" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>javascript</title>
    <link>http://www.saigonist.com/taxonomy/term/30/all</link>
    <description></description>
    <language>en</language>
          <item>
    <title>Drupal vs Node.js or Drupal + Node.js</title>
    <link>http://www.saigonist.com/tech/drupal/drupal-vs-nodejs-or-drupal-nodejs</link>
    <description>&lt;p&gt;What do Drupal and Node.js have in common? Besides the word &quot;node&quot; not much. They are both ways to do web development. Drupal is for building websites centered around managing, creating, and viewing mixed types of content. Node.js is optimized for near real-time updates in browsers connected for long periods of time to a website. &lt;/p&gt;
&lt;p&gt;Drupal is software that runs PHP on top of a web server. It can run on Apache or nginx or other web servers. But it needs a web server to handle listening on a TCP connection and communicating with connected clients (browsers). Node.js, on the other hand, doesn&#039;t need an underlying web server because you can easily write a fast, basic web server using Node. Drupal is limited by the speed of PHP and the (most likely MySQL) database that is returning hundreds of queries per page load, and then limited further by the speed at which the web server can serve the data Drupal returns. Node.js can serve a page as quickly as it takes to run any JavaScript function. &lt;/p&gt;
&lt;p&gt;Node.js is therefore much lower level than Drupal. Node.js can be the basis for writing scalable, responsive, real-time, single-page web apps. But it won&#039;t help you rapidly build any features used on the website. It won&#039;t serve as very expressive or patterned scaffolding for any advanced site structure, or help manage more (Drupal) nodes than you can count on your hands. Node doesn&#039;t have the breadth of third party web features that makes modern websites social, play nicely with thousands of APIs, or conduct e-commerce. Node.js isn&#039;t a web framework, nor a CMS. It&#039;s something very different. &lt;/p&gt;
&lt;p&gt;Node.js is a framework for programming network servers. Node.js is also the only remaining mainstream way to run server-side JavaScript (others exist but never gained any following, perhaps because without V8 they were too slow or the idea was too ahead of its time). That may not be reason enough for most people to switch to Node, but for some people who perhaps want to share client-side and server-side code or really like JavaScript (because, well, PHP sucks!) then you might still want to use Node even without using it for its networking/events libraries. Those coming from a Python or Ruby on Rails background will see some similar ideas related to event-driven programming.&lt;/p&gt;
&lt;h2&gt;Why would you want to integrate some Node.js into your Drupal site? Here are some possible use cases&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Dashboard&lt;/strong&gt;: View realtime stats about your site, maybe from hits to your web server&#039;s access log. Think Google Analytics realtime view. The benefits increase the more people you have concurrently viewing the dashboard, and multiply when you allow changes to the dashboard that need to propagate out to all viewers with the dashboard open.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Chat&lt;/strong&gt;: This is the most common example for Node.js. Chat servers need to support many open connections from different users and then update a lot of them when a message is received from one client. And these updates should happen quickly. Some chat protocols even show what the other person is typing as they&#039;re typing.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Multiplayer games&lt;/strong&gt;: Think MMORPG. Games that are played on a server need to be as realtime as possible otherwise you get problems where different players see different versions of the game world. The server needs to be able to serve many simultaneous connections without taking up ever more server resources, CPU or RAM.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Group buying platforms&lt;/strong&gt; where buyers need to be updated when the number of other buyers goes up. This also applies when resources are limited and shoppers need to know when inventory or availability decreases.&lt;/p&gt;
&lt;p&gt;Why do those kinds of projects make sense with Node? They all benefit from high performance despite massive concurrency, realtime or really fast feedback, and the paradigm of event-driven programming on the backend with JavaScript just like in the browser. At least partly it has to do with Websocket in HTML5. Before Websocket, we had to use the hack-ish Comet or long-polling with ajax, but Websocket is the solution that was expressly designed for bidirectional network connections between browser and server. Of course it also has to do with the speed of the V8 JavaScript engine.&lt;/p&gt;
&lt;p&gt;So how might we integrate our Node project into our Drupal site? Fortunately there&#039;s a module for that: https://drupal.org/project/nodejs&lt;/p&gt;
&lt;p&gt;The module uses an independently installed Node.js server that you configure the module to use. Then you have some secret keys set up for the Node server and Drupal to securely communicate with each other. The module comes with some sub-modules with Node servers that can do things like Node-based notifications to Drupal sites and the browsers connected to them. Whatever message you want to broadcast to browsers can be done this way and the browsers can receive them instantly. This could be an actual text message or prices or scores to be updated or whatever data you might want to change in an existing session. And of course the Node server can listen for updates sent from browsers.&lt;/p&gt;
&lt;p&gt;In conclusion, Node.js and Drupal are both web technologies with extremely different use cases but which can also work together for both content-ful and massively interactive websites/web apps. Drupal alone has no chance of doing realtime. By itself, Node.js for a blog or ecommerce site would be like programming games in assembly.&lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/tech/drupal/drupal-vs-nodejs-or-drupal-nodejs#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech/drupal">Drupal</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <category domain="http://www.saigonist.com/category/tags/nodejs">node.js</category>
 <category domain="http://www.saigonist.com/category/tags/realtime">realtime</category>
 <pubDate>Tue, 25 Dec 2012 09:01:22 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">587 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>Backbone.js and Underscore.js JavaScript Frameworks in Drupal 8 Core</title>
    <link>http://www.saigonist.com/tech/drupal/backbonejs-and-underscorejs-javascript-frameworks-drupal-8-core</link>
    <description>&lt;h2&gt;JavaScript as a serious programming language?&lt;/h2&gt;
&lt;p&gt;Unbeknownst to many folks, even those developing websites, JavaScript libraries are hot right now. One reason is that they&#039;re being used on both the frontend (browser) as well as the server via Node.js. And so Drupal 8 includes two new JavaScript libraries, beyond the mainstay of jQuery, which are popular because they rewrite how we use JavaScript, much like Drupal changes how we develop PHP software. They are the Backbone.js and Underscore.js JavaScript frameworks. Since they&#039;re in core, Drupal itself can use them in its own JavaScript code. However, as far as I can tell nothing in core, besides Backbone, is using Underscore yet.&lt;/p&gt;
&lt;p&gt;Backbone.js (http://backbonejs.org/) gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface.&lt;/p&gt;
&lt;p&gt;The cool thing about Backbone is it splits the abstract representation from DOM events and HTML rendering in your JavaScript code. This is especially applicable to web apps which constantly get new data via AJAX from a REST server and then update the browser in-page rather than reloading a new URL and rendering the page&#039;s html on the server - for example via Drupal and it&#039;s normal theme/template system. &lt;/p&gt;
&lt;p&gt;If you think of modern web applications like GMail or Trello (which is built on Backbone) they work mostly by not reloading the page but rather with each click of the mouse pulling in data from the server then rendering it somehow in the current page. Backbone is how Rdio, Hulu, and Pitchfork play music and videos continuously across &quot;page loads&quot;. This can also be happening in the background independent of user activity to update content or display status messages or maybe show new email.&lt;/p&gt;
&lt;h2&gt;AJAX vs AHAH&lt;/h2&gt;
&lt;p&gt;In Drupal, you&#039;ll see a lot of references to AHAH. AHAH is basically AJAX except that it&#039;s honest about the X, which in AJAX stands for XML, but in Drupal using AHAH it&#039;s actual HTML which can be inserted into a page. Or it could be JavaScriptON that&#039;s parsed and, using some custom JavaScript logic, turned into HTML by manipulating the DOM. &lt;/p&gt;
&lt;p&gt;Without something like Backbone, this is how AJAXy applications are written in Drupal. We add in #ahah hooks that form elements and their widgets can use (when JavaScript is available.) But the login on the frontend is completely custom and usually is jQuery $.ajax callbacks that use jQuery selectors to find and replace DOM elements manually.&lt;/p&gt;
&lt;p&gt;Backbone.js gives us a framework to represent things we want to update on the frontend in a structured way, with clear separation between the model and rendering. The model language directly maps to the MVC of Ruby on Rails. Then by updating the model, which is all the logic we really want, the visual representation is updated for us. Backbone can call Underscore templates, Mustache.js, or directly insert into the DOM server-side rendered (the old way we just mentioned) HTML.&lt;/p&gt;
&lt;p&gt;So now our AHAH callbacks can return JSON that&#039;s pure data, and allow Backbone to handle rendering the HTML.&lt;/p&gt;
&lt;h2&gt;So what about Underscore.js?&lt;/h2&gt;
&lt;p&gt;Backbone itself depends on Underscore, but Underscore by itself is also useful. For example, see how Conway&#039;s Game of Life can be implemented in JavaScript without if-statements or loops (for, for-in, while) by using Underscore.js and by programming in a more functional style, with functionality similar to Ruby or Python. jQuery, long since included in Drupal core, also offers some functions like $.map or $.each but Underscore is much more complete. Underscore is a JavaScript utility library, not for writing any specific kinds of apps but for making all of your JavaScript code potentially cleaner, simpler, shorter.&lt;/p&gt;
&lt;p&gt;Some _ functions:&lt;br /&gt;
_.each&lt;br /&gt;
map&lt;br /&gt;
reduce&lt;br /&gt;
find&lt;br /&gt;
filter&lt;br /&gt;
every&lt;br /&gt;
pluck&lt;/p&gt;
&lt;p&gt;Underscore also has some array and object helper functions, deep === comparison (isEqual), etc. See it all at http://documentcloud.github.com/underscore/&lt;/p&gt;
&lt;p&gt;You can play around with Underscore.js right now by writing up some code at http://jsfiddle.net/&lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/tech/drupal/backbonejs-and-underscorejs-javascript-frameworks-drupal-8-core#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech/drupal">Drupal</category>
 <category domain="http://www.saigonist.com/category/tags/backbonejs">backbone.js</category>
 <category domain="http://www.saigonist.com/category/tags/drupal8">drupal8</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <category domain="http://www.saigonist.com/category/tags/underscorejs">underscore.js</category>
 <pubDate>Thu, 20 Dec 2012 10:22:44 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">584 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>Code Retreat 2012 - Ho Chi Minh City</title>
    <link>http://www.saigonist.com/vietnam/hcmc/code-retreat-2012-ho-chi-minh-city</link>
    <description>&lt;script&gt;
$(document).ready(function(){

$(&#039;.geshifilter&#039;).hover(function(){console.log(this);console.log($(this));$(this).css(&#039;position&#039;, &#039;relative&#039;).css(&#039;width&#039;, &#039;800px&#039;).css(&#039;z-index&#039;, 1000);}, function(){$(this).css(&#039;position&#039;,&#039;initial&#039;);});

});
&lt;/script&gt;&lt;p&gt;
On Saturday December 8th, Ho Chi Minh City along with 200 other cities around the world celebrated a global Code Retreat.&lt;/p&gt;
&lt;h2&gt;What is a code retreat?&lt;/h2&gt;
&lt;p&gt;Like a &lt;a href=&quot;/b/10-days-sitting-vipassana-meditation-vietnam&quot;&gt;meditation retreat&lt;/a&gt;, a code retreat is a time set aside to step out of the daily life and routine in order to get deep into practice. It&#039;s a full work day, and everyone attending is giving up their Saturday to do what they are probably paid to do from Monday to Friday. That&#039;s dedication to the craft. Not so many people came, partly due to poor advertising.&lt;/p&gt;
&lt;p&gt;The code retreat was open to anyone but all attendees were fellow programmers, those with some experience already but who want to improve themselves. Besides myself, there was a motley crew of foreigners - an organizer from Japan, a local software tycoon originally from Spain, a Czech developer. Otherwise, all Vietnamese, including startup developers, university faculty, students, and corporate workers. &lt;/p&gt;
&lt;p&gt;The venue was ERC Vietnam, the Singaporean MBA school who, along with two other Singaporean schools in Vietnam, is rumored to have lost its operating license from the Ministry of Education which would force it to close. However, the school was still open as usual. A Toastmasters club was also meeting in the room across the hall. There were scheduled outings for students posted in the elevators to be held at local bars and restaurants.&lt;/p&gt;
&lt;object width=&quot;640&quot; height=&quot;480&quot;&gt;&lt;param name=&quot;allowfullscreen&quot; value=&quot;true&quot; /&gt;&lt;param name=&quot;movie&quot; value=&quot;https://www.facebook.com/v/423486017723254&quot; /&gt;&lt;embed src=&quot;https://www.facebook.com/v/423486017723254&quot; type=&quot;application/x-shockwave-flash&quot; allowfullscreen=&quot;1&quot; width=&quot;640&quot; height=&quot;480&quot;&gt;&lt;/embed&gt;&lt;/object&gt;&lt;h2&gt;The coding&lt;/h2&gt;
&lt;p&gt;There were six sessions lasting about an hour each throughout the day and each session was the same both in format and content. The format was:&lt;/p&gt;
&lt;p&gt;15 minutes - pair up with another programmer and discuss the strategy for writing the program - choose a language, maybe a framework, discuss data structures and algorithms&lt;br /&gt;
15 minutes - one person &quot;drives&quot; the keyboard, the other &quot;navigates&quot; - pair programming (an extreme programming methodology) where two developers use a single laptop to collaboratively develop software&lt;br /&gt;
15 minutes - switch up driver and navigator, although often times only a single person was familiar with the text editor or developing environment or even language and API (some languages heavily depend on libraries and APIs to do simple tasks which are difficult to do in the core language alone)&lt;br /&gt;
15 minutes - retrospective and break - we wrote down our learnings on sticky notes and collected them for each other to read and at the end of the day we had a whole day retrospective&lt;/p&gt;
&lt;p&gt;What were we writing?&lt;/p&gt;
&lt;p&gt;We were implementing Conway&#039;s Game of Life. Each pair (each session we picked new partners) wrote the game six times throughout the day, erasing the code they had written at the end of each session. The goal was not to write the game of life, but to get better at writing code by writing the same code over and over, by developing the same software over and over.&lt;/p&gt;
&lt;p&gt;Halfway through the day some rules started to be added. First, we had to use TDD (test driven development) methodology (which some people didn&#039;t realize was feasible in JavaScript), then OOP (what if someone had chosen Scheme or some other functional language?). This was to encourage us to try new techniques and learn them from each other. &lt;/p&gt;
&lt;p&gt;I was an outlier in that I wanted to use languages like Python, JavaScript, or even PHP instead of .Net framework languages. Instead of a massive IDE I was using Vim. In the end, in each session where it was up to me I chose Javascript. There was no need to build a new project from a template and then compile executables before running them. Just open a text file, save as html, and use Chrome as a development environment. &lt;/p&gt;
&lt;p&gt;Later, more rules were imposed:&lt;br /&gt;
No if statements.&lt;br /&gt;
No loops (for, while, etc.).&lt;br /&gt;
No functions longer than a few lines (maybe 3 or 5 statements max). &lt;/p&gt;
&lt;p&gt;We were encouraged to pick one rule and try to work within its constraints. I decided to apply all the rules! &lt;/p&gt;
&lt;p&gt;These rules would be easy to abide by using a functional programming language but they&#039;re not impossible to follow in Python or Javascript either. But to  replace loops using recursion, one thing I found was that nobody remembered how to write recursive functions and most people didn&#039;t even want to try as it was hurting their heads. &lt;/p&gt;
&lt;p&gt;After the day was over, I took a look at underscore.js, a utility library for JavaScript which makes functional-like programming in JavaScript much easier. &lt;/p&gt;
&lt;p&gt;Here&#039;s what I came up with.&lt;/p&gt;
&lt;p&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;javascript geshifilter-javascript&quot; style=&quot;font-family:monospace;&quot;&gt;&lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&amp;quot;underscore.js&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;script&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&quot;color: #006600; font-style: italic;&quot;&gt;// row and col are indices into 2d array &#039;grid&#039;, either &#039;today&#039; or &#039;tomorrow&#039;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;_.&lt;span style=&quot;color: #660066;&quot;&gt;isUndefined&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;row&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;||&lt;/span&gt; _.&lt;span style=&quot;color: #660066;&quot;&gt;isUndefined&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;row&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;0&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt; grid&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;row&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; count_neighbors&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;
           value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row  &lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;                           value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row  &lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;
           value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; value&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; next_state_if&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;neighbors&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; state&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;neighbors &lt;span style=&quot;color: #339933;&quot;&gt;==&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;neighbors &lt;span style=&quot;color: #339933;&quot;&gt;==&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;?&lt;/span&gt; state &lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; next_state&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; next_state_if&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;count_neighbors&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;grid&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; grid&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;row&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; calculate_tomorrow&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;today&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; tomorrow&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
    _.&lt;span style=&quot;color: #660066;&quot;&gt;each&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;today&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;foo&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
        _.&lt;span style=&quot;color: #660066;&quot;&gt;each&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660066;&quot;&gt;today&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;row&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;foo&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660066;&quot;&gt;tomorrow&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;row&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; next_state&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660066;&quot;&gt;today&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; row&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; col&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;today&lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt; today&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; tomorrow&lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt; tomorrow&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&quot;color: #006600; font-style: italic;&quot;&gt;// helpers&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; copy2d&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;ary2d&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; _.&lt;span style=&quot;color: #660066;&quot;&gt;map&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;ary2d&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;list&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; list.&lt;span style=&quot;color: #660066;&quot;&gt;slice&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; print_r&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;ary2d&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; console.&lt;span style=&quot;color: #660066;&quot;&gt;log&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;_.&lt;span style=&quot;color: #660066;&quot;&gt;map&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;ary2d&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;list&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; list.&lt;span style=&quot;color: #660066;&quot;&gt;join&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;.&lt;span style=&quot;color: #660066;&quot;&gt;join&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt;&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; random_init&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; _.&lt;span style=&quot;color: #660066;&quot;&gt;map&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;_.&lt;span style=&quot;color: #660066;&quot;&gt;range&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;30&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;list&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; _.&lt;span style=&quot;color: #660066;&quot;&gt;map&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;_.&lt;span style=&quot;color: #660066;&quot;&gt;range&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;30&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;list&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;return&lt;/span&gt; _.&lt;span style=&quot;color: #660066;&quot;&gt;random&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&quot;color: #006600; font-style: italic;&quot;&gt;// demo main loop&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; today &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; random_init&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; tomorrow &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; random_init&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
print_r&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;today&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
setInterval&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
    calculate_tomorrow&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;today&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; tomorrow&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    print_r&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;tomorrow&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    today &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; copy2d&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;tomorrow&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;400&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/vietnam/hcmc/code-retreat-2012-ho-chi-minh-city#comments</comments>
 <category domain="http://www.saigonist.com/category/type/vietnam/hcmc">HCMC</category>
 <category domain="http://www.saigonist.com/category/type/tech">Tech</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <pubDate>Wed, 12 Dec 2012 10:08:54 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">579 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>Archiving Twitter to Blog Post</title>
    <link>http://www.saigonist.com/b/archiving-twitter-blog-post</link>
    <description>&lt;p&gt;Step 1: Install t (Ruby Twitter command line client). Run the following (substitute your own Twitter ID):&lt;br /&gt;
&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;javascript geshifilter-javascript&quot; style=&quot;font-family:monospace;&quot;&gt;t timeline &lt;span style=&quot;color: #339933;&quot;&gt;@&lt;/span&gt;tomosaigon &lt;span style=&quot;color: #339933;&quot;&gt;--&lt;/span&gt;csv &lt;span style=&quot;color: #339933;&quot;&gt;--&lt;/span&gt;number &lt;span style=&quot;color: #CC0000;&quot;&gt;3000&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&lt;/span&gt; tweets.&lt;span style=&quot;color: #660066;&quot;&gt;csv&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Step 2: Convert CSV to JSON using &lt;a href=&quot;http://www.cparker15.com/wp-content/uploads/csv-to-json/csv-to-json.html&quot; title=&quot;http://www.cparker15.com/wp-content/uploads/csv-to-json/csv-to-json.html&quot;&gt;http://www.cparker15.com/wp-content/uploads/csv-to-json/csv-to-json.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;iframe style=&quot;width: 100%; height: 500px&quot; src=&quot;http://www.cparker15.com/wp-content/uploads/csv-to-json/csv-to-json.html&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;p&gt;Step pre-3:&lt;/p&gt;
&lt;p&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;javascript geshifilter-javascript&quot; style=&quot;font-family:monospace;&quot;&gt;cached&lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt;$&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;usr&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;bin&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;grep $1 $CACHE&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt; $cached &lt;span style=&quot;color: #339933;&quot;&gt;!=&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; then
        echo $cached&lt;span style=&quot;color: #339933;&quot;&gt;|/&lt;/span&gt;usr&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;bin&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;cut &lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;d&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039; &#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;f2 &lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; 
        exit
fi
&amp;nbsp;
url&lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt;$&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;usr&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;local&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;bin&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;curl &lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;v $1 &lt;span style=&quot;color: #CC0000;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;|/&lt;/span&gt;usr&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;bin&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;grep &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;^&amp;lt; Location: &#039;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;|/&lt;/span&gt;usr&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;bin&lt;span style=&quot;color: #339933;&quot;&gt;/&lt;/span&gt;sed &lt;span style=&quot;color: #339933;&quot;&gt;-&lt;/span&gt;e &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;s/&amp;lt; Location: //&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;
echo $1 $url &lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; $CACHE
echo $url&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Step 3: Open Chrome Developer Tools and in the command line type &quot;var a = &quot; then paste the copied JSON. Hit enter.&lt;/p&gt;
&lt;p&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;javascript geshifilter-javascript&quot; style=&quot;font-family:monospace;&quot;&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; out &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&#039;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; i &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; i &lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt; a.&lt;span style=&quot;color: #660066;&quot;&gt;length&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; i&lt;span style=&quot;color: #339933;&quot;&gt;++&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; t &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; a&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;i&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; 
    &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; d &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;&quot;&gt;Date&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;t&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;Posted at&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; 
    &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;d &lt;span style=&quot;color: #339933;&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;&quot;&gt;Date&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;2012-09-01 00:00&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; d &lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;&quot;&gt;Date&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;2012-10-01 00:00&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; tweet &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; t&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;Text&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
        &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; tcos &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; tweet.&lt;span style=&quot;color: #660066;&quot;&gt;match&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009966; font-style: italic;&quot;&gt;/http:\/\/t.co\/\w+/g&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
        &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;tcos&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
            &lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;var&lt;/span&gt; m &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; m &lt;span style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt; tcos.&lt;span style=&quot;color: #660066;&quot;&gt;length&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; m&lt;span style=&quot;color: #339933;&quot;&gt;++&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
                tco &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; tcos&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;m&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;.&lt;span style=&quot;color: #660066;&quot;&gt;replace&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009966; font-style: italic;&quot;&gt;/\//g&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;%252F&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
                $.&lt;span style=&quot;color: #660066;&quot;&gt;ajax&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;url&lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;http://www.saigonist.com/saigonist/untco/&#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; tco&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; async&lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #003366; font-weight: bold;&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; success&lt;span style=&quot;color: #339933;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #000066; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;data&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
                    tweet &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; tweet.&lt;span style=&quot;color: #660066;&quot;&gt;replace&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;tcos&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;m&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; data.&lt;span style=&quot;color: #660066;&quot;&gt;trim&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
                &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
            &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
        &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        tweet &lt;span style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt; tweet.&lt;span style=&quot;color: #660066;&quot;&gt;replace&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009966; font-style: italic;&quot;&gt;/(&amp;quot;&amp;quot;)/g&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&amp;quot;&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;.&lt;span style=&quot;color: #660066;&quot;&gt;replace&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009966; font-style: italic;&quot;&gt;/(^|\s)@(\w+)/g&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\$&lt;/span&gt;1&amp;lt;a href=&amp;quot;https://twitter.com/&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\$&lt;/span&gt;2&amp;quot; rel=&amp;quot;nofollow&amp;quot;&amp;gt;@&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\$&lt;/span&gt;2&amp;lt;/a&amp;gt;&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;.&lt;span style=&quot;color: #660066;&quot;&gt;replace&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009966; font-style: italic;&quot;&gt;/(^|\s)#(\w+)/g&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\$&lt;/span&gt;1&amp;lt;a href=&amp;quot;https://twitter.com/#!/search/%23&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\$&lt;/span&gt;2&amp;quot; rel=&amp;quot;nofollow&amp;quot;&amp;gt;&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\$&lt;/span&gt;2&amp;lt;/a&amp;gt;&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;
        out &lt;span style=&quot;color: #339933;&quot;&gt;+=&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;d.&lt;span style=&quot;color: #660066;&quot;&gt;getMonth&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #CC0000;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;/&#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; d.&lt;span style=&quot;color: #660066;&quot;&gt;getDate&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039; &#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; d.&lt;span style=&quot;color: #660066;&quot;&gt;getHours&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;:&#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; d.&lt;span style=&quot;color: #660066;&quot;&gt;getMinutes&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039; &#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; tweet &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039; &#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&amp;lt;a href=&amp;quot;http://twitter.com/&#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; t&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;Screen name&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;/statuses/&#039;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; t&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;ID&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&amp;quot; rel=&amp;quot;nofollow&amp;quot;&amp;gt;#&amp;lt;/a&amp;gt;&#039;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
        out &lt;span style=&quot;color: #339933;&quot;&gt;+=&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&#039;&lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt;&#039;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;
    &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/b/archiving-twitter-blog-post#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech">Tech</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <category domain="http://www.saigonist.com/category/tags/twitter">twitter</category>
 <pubDate>Fri, 05 Oct 2012 03:30:38 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">495 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>Drupal module idea: embed Google spreadsheet CCK field</title>
    <link>http://www.saigonist.com/b/drupal-module-idea-embed-google-spreadsheet-cck-field</link>
    <description>&lt;p&gt;How can we store tables or spreadsheets in Drupal content nodes?&lt;/p&gt;
&lt;p&gt;Drupal is a Content Management System as well as a &lt;strong&gt;Content Management Framework&lt;/strong&gt;. It&#039;s meant for facilitating the creation and editing of content, where content doesn&#039;t just mean simple text. CCK allows Drupal site managers to easily enable complex data types for their content. But sometimes it&#039;s not so easy to manage lots of simple data in the way that a spreadsheet (meaning Excel or Google Spreadsheet) easily manages many rows and columns of related data.&lt;/p&gt;
&lt;p&gt;Sometimes you really want &lt;strong&gt;tabular data&lt;/strong&gt; and you may not know for sure how many rows or columns you&#039;ll want beforehand, which is never a problem for Excel or Google Spreadsheet (which is also why sometimes people abuse Excel as a general purpose database). Maybe you are importing spreadsheets or are using spreadsheets with many rows and columns, and only want to use a section of the spreadsheet. Maybe you need to use spreadsheets because you are using formulas and want to do some graphing based on some numbers too. In fact, Excel can do much more. Rather than hoping all of those use cases will make it into a Drupal module anytime soon, wouldn&#039;t it be nice if you could just &lt;strong&gt;embed a spreadsheet in a node&lt;/strong&gt;?&lt;/p&gt;
&lt;p&gt;There are some &lt;a href=&quot;http://www.saigonist.com/b/attaching-tablematrixarray-drupal-node&quot;&gt;modules for attaching tables or tabular data to nodes&lt;/a&gt;  but in the end the interface can be a bit unwieldy.  I discussed building something like a spreadsheet to quickly edit many values and below I present a &lt;strong&gt;demonstration&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;What is already available that we could use to attach spreadsheets or something similar to nodes?&lt;/p&gt;
&lt;p&gt;1. You could: Configure a Google spreadsheet that&#039;s either public or somehow accessed via a Google api, perhaps using OAuth2 or just assuming the viewer also has edit access to the spreadsheet. Google already lets you embed spreadsheets including the editable spreadsheet but they don&#039;t let you limit the view of the spreadsheet (limiting the view still lets everyone access the whole spreadsheet by changing the URL). &lt;/p&gt;
&lt;p&gt;We would also need new nodes to automatically create sheets in the spreadsheet or new spreadsheets altogether and embed them in node edit. This would need to use their APIs since the embeddable Google Spreadsheets require an existing spreadsheet, otherwise this step needs to be done manually for each node - a new Google spreadsheet created per node.&lt;/p&gt;
&lt;p&gt;This &lt;a href=&quot;https://github.com/evolvingweb/redmine_google_docs&quot;&gt;Redmine Google Docs plugin&lt;/a&gt; takes a similar approach and shows how the resulting data could be embedded.&lt;/p&gt;
&lt;p&gt;(This &lt;a href=&quot;http://www.mediawikiwidgets.org/Google_Spreadsheet&quot;MediaWiki Google Spreadsheet widget&lt;/a&gt; might be worth investigating as well.)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2. Another approach would be to take an existing JavaScript or Java spreadsheet that could be embedded. This could be exactly what you want if you need the full functionality of Excel in each node. One such online spreadsheet is &lt;a href=&quot;http://code.google.com/p/zkspreadsheet/&quot;&gt;ZK Spreadsheet&lt;/a&gt; which is written in Java, and would let you have full formula and charting support.&lt;/p&gt;
&lt;p&gt;3. Embed a widget like the form below as a CCK field in a node. It would be a new CCK field type where the editing widget is the below spreadsheet-like table and the display widget might be the same thing, an uneditable table, or the raw JSON string representation. In the database, the actual value of the field would be JSON (unless you wanted to use PHP&#039;s serialize() which would require POSTing values first instead of just posting the json value). This means you wouldn&#039;t relate or compare this field to anything else, as with any serialized data in a database. You could come up with some other schema involving columns and rows to store the table&#039;s values for each field in a node but I&#039;m not sure it&#039;s worthwhile.&lt;/p&gt;
&lt;p&gt;I created this demonstration but haven&#039;t turned it into a Drupal module. There is code to dump the edited values into a single JSON value to be stored in the database but the storage would be module-specific. &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.saigonist.com/sites/saigonist/files/spread.js&quot;&gt;Get the JavaScript&lt;/a&gt; - then combine it with &lt;a href=&quot;http://www.saigonist.com/sites/saigonist/files/spread.html&quot;&gt;html and CSS&lt;/a&gt;, which you also see below.&lt;/p&gt;
&lt;!-- copy from here --&gt;&lt;!-- copy from here --&gt;&lt;style&gt;
#saigonist-spread {
width: 800px;
background-color: white;
border: 1px solid;
z-index: 1000;
position: relative;
}

#saigonist-spread input {
border: 1px solid #ccc;
-webkit-border-radius: 3px;
-moz-border-radius: 3px;
border-radius: 3px;
}

.saigonist-spread-row-head &gt; div,
.saigonist-spread-row &gt; div {
float: left;
width: 122px;
}

#saigonist-spread .saigonist-spread-col-0 {
width: 20px;
}

.saigonist-spread-row {
clear: both;
}

.saigonist-spread-plus {
cursor: pointer;
}

&lt;/style&gt;&lt;script src=&quot;http://www.saigonist.com/sites/saigonist/files/spread.js&quot;&gt;
&lt;/script&gt;&lt;div id=&quot;saigonist-spread&quot;&gt;
&lt;div class=&quot;saigonist-spread-row-head&quot;&gt;
&lt;div class=&quot;saigonist-spread-col-0&quot;&gt;&lt;span id=&quot;saigonist-spread-cell-0-0&quot;&gt;.&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-1&quot;&gt;&lt;span&gt;A&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-2&quot;&gt;&lt;span&gt;B&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-3&quot;&gt;&lt;span&gt;C&lt;/span&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-max saigonist-spread-plus&quot;&gt;&lt;span onclick=&quot;saigonist_spread_add_col()&quot;&gt;+&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-rows&quot;&gt;
&lt;div id=&quot;saigonist-spread-row-1&quot; class=&quot;saigonist-spread-row&quot;&gt;
&lt;div class=&quot;saigonist-spread-col-0&quot;&gt;1&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-1&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-1-1&quot; /&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-2&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-1-2&quot; /&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-3&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-1-3&quot; /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;saigonist-spread-row-2&quot; class=&quot;saigonist-spread-row&quot;&gt;
&lt;div class=&quot;saigonist-spread-col-0&quot;&gt;2&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-1&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-2-1&quot; /&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-2&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-2-2&quot; /&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-3&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-2-3&quot; /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;saigonist-spread-row-3&quot; class=&quot;saigonist-spread-row&quot;&gt;
&lt;div class=&quot;saigonist-spread-col-0&quot;&gt;3&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-1&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-3-1&quot; /&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-2&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-3-2&quot; /&gt;&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-col-3&quot;&gt;&lt;input type=&quot;text&quot; length=&quot;10&quot; name=&quot;saigonist-spread-cell-3-3&quot; /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;saigonist-spread-row&quot;&gt;
&lt;div class=&quot;saigonist-spread-col-0 saigonist-spread-plus&quot;&gt;&lt;span onclick=&quot;saigonist_spread_add_row()&quot;&gt;+&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div&gt;JSON: &quot;&lt;br /&gt;
&lt;div id=&quot;saigonist-spread-value-json&quot;&gt;&lt;/div&gt;
&lt;p&gt;&quot;&lt;/p&gt;&lt;/div&gt;
&lt;/div&gt;
</description>
     <comments>http://www.saigonist.com/b/drupal-module-idea-embed-google-spreadsheet-cck-field#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech">Tech</category>
 <category domain="http://www.saigonist.com/category/tags/drupal">drupal</category>
 <category domain="http://www.saigonist.com/category/tags/google">google</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <category domain="http://www.saigonist.com/category/tags/module">module</category>
 <category domain="http://www.saigonist.com/category/tags/spreadsheet">spreadsheet</category>
 <pubDate>Sun, 30 Sep 2012 15:28:46 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">228 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>About Saigonist Mutual Friends Facebook App</title>
    <link>http://www.saigonist.com/b/about-saigonist-mutual-friends-facebook-app</link>
    <description>&lt;p&gt;My friend Grover and I have a lot of mutual friends as I noticed on Facebook one day. And I know that I have a lot of friends with whom I share a large number of friends. I got curious and asked myself: &quot;Who do I have the most shared friends with?&quot; This question turned into a Facebook FQL query which gave me the data. Then I decided to turn it into a &quot;product&quot; and ended up learning stuff about Facebook&#039;s PHP and JavaScript SDKs.&lt;/p&gt;
&lt;p&gt;The final result is this Facebook App:  Saigonist Mutual Friends. &lt;/p&gt;
&lt;p&gt;Just enable the app and you&#039;ll see a list of your top 10 friends with mutual friends. I got my answer: my friend Jodie and I share 158 friends.&lt;/p&gt;
&lt;p&gt;--&lt;/p&gt;
&lt;p&gt;Next steps? I&#039;d like to visualize what cliques or subnetworks exist within my Facebook network...&lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/b/about-saigonist-mutual-friends-facebook-app#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech">Tech</category>
 <category domain="http://www.saigonist.com/category/tags/app">app</category>
 <category domain="http://www.saigonist.com/category/tags/facebook">facebook</category>
 <category domain="http://www.saigonist.com/category/tags/friends">friends</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <pubDate>Mon, 20 Aug 2012 02:22:07 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">466 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>Find Friends of a Friend on Facebook</title>
    <link>http://www.saigonist.com/b/find-friends-friend-facebook</link>
    <description>&lt;p&gt;Today I was playing around with Facebook&#039;s  where you can test out their API.&lt;/p&gt;
&lt;p&gt;First, you may want to logout of Facebook using the button there and log back in in order to get the &quot;FB.login callback&quot; Log message on the sidebar.  Inside that, you&#039;ll see something like:&lt;/p&gt;
&lt;pre&gt;
{
   &quot;authResponse&quot;: {
      &quot;accessToken&quot;: &quot;AAAAAKvQdWksBAG8yLhVwqWyvgF2uu2eUahBQTZCPD5y2ilo2qZBbyjJ3DJRXDn4UONrVqAK28ZCSlouAtvdbxCc0ZAzQ0e8VbZBZCsdHmzUQZDZD&quot;,
      &quot;userID&quot;: &quot;12463924&quot;,
      &quot;expiresIn&quot;: 5200,
      &quot;signedRequest&quot;: &quot;_ltfzUYHjPHyFZH6JnlbzVa-oejnPTud9aHK24eIWOc.eyJhbGdvcml0aG0iOiJITUFDLVNIQTI1NiIsImNvZGUiOiJBUUR2WU4tcTk4cW04X2xwbkg0LVU4Rk9YMUoxYVBmOUNMQkJPeEhlSGowQUZ3a2V6akRNWDlPNGExbkhkREZxT2laQVhWZW50aDRfd19EUk5uWm95NFlDYXFqWktweDZ1MDA5U2Fkc2hSUjQtWUdfUi05S21zY3F5RXlPTC1zbGRaVHBqZkRZS0lvdzFxYnJ2SjJteWxXYkd1dWFhY1h6U1FUWW8tc1V2Rm1oTU5fLV9xZzNxOXRadHJTSi1WdFRpUWciLCJpc3N1ZWRfYXQiOjEzMjE1NDc2MDAsInVzZXJfaWQiOiIxMjQ2MzkyNCJ9&quot;
   },
   &quot;status&quot;: &quot;connected&quot;
}
&lt;/pre&gt;&lt;p&gt;
You should copy the accessToken in order to do further testing which requires a token.  Most of the new API calls can be tested right in your browser.  For example:&lt;/p&gt;
&lt;p&gt;https://graph.facebook.com/search?q=Tomo&amp;amp;type=user&amp;amp;access_token=AAAAAKvQdWksBAG8yLhVwqWyvgF2uu2eUahBQTZCPD5y2ilo2qZBbyjJ3DJRXDn4UONrVqAK28ZCSlouAtvdbxCc0ZAzQ0e8VbZBZCsdHmzUQZDZD&amp;amp;limit=10&amp;amp;offset=0&lt;/p&gt;
&lt;p&gt;That searches my account for users with the name &#039;Tomo&#039;, while using my token to authenticate.  The token doesn&#039;t last very long and has definitely expired by the time you read this.&lt;/p&gt;
&lt;p&gt;Now plug this code into the textarea.&lt;/p&gt;
&lt;pre&gt;
&amp;lt;div id=&amp;quot;profile_pics&amp;quot;&amp;gt;
Profile pics here
&amp;lt;/div&amp;gt;
&amp;lt;script&amp;gt;

// From an example

var profilePicsDiv = document.getElementById(&#039;profile_pics&#039;);
FB.getLoginStatus(function(response) {
  if (response.status != &#039;connected&#039;) {
    profilePicsDiv.innerHTML = &#039;&amp;lt;em&amp;gt;You are not connected&amp;lt;/em&amp;gt;&#039;;
    return;
  }



// JSON output from https://graph.facebook.com/search?q=Tomo&amp;amp;type=user&amp;amp;access_token=AAAAAKvQdWksBAG8yLhVwqWyvgF2uu2eUahBQTZCPD5y2ilo2qZBbyjJ3DJRXDn4UONrVqAK28ZCSlouAtvdbxCc0ZAzQ0e8VbZBZCsdHmzUQZDZD&amp;amp;limit=10&amp;amp;offset=0
var people = {
   &amp;quot;data&amp;quot;: [
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomo Coffee&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;100001851101897&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomo Kiku&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;626405318&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomomi Shiho&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;1755956208&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomoman Bkk&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;1674446551&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomori Moore&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;511540368&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomomi Takihara&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;100001600551550&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomohiro Morinaga&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;713242010&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Onda Tomoyuki&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;100001455563427&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomoko Okawara&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;100001514576923&amp;quot;
      },
      {
         &amp;quot;name&amp;quot;: &amp;quot;Tomonari Kino&amp;quot;,
         &amp;quot;id&amp;quot;: &amp;quot;804330331&amp;quot;
      }
   ],
   &amp;quot;paging&amp;quot;: {
      &amp;quot;next&amp;quot;: &amp;quot;https://graph.facebook.com/search?q=Tomo&amp;amp;type=user&amp;amp;access_token=AAAAAKvQdWksBAG8yLhVwqWyvgF2uu2eUahBQTZCPD5y2ilo2qZBbyjJ3DJRXDn4UONrVqAK28ZCSlouAtvdbxCc0ZAzQ0e8VbZBZCsdHmzUQZDZD&amp;amp;limit=10&amp;amp;offset=10&amp;quot;
   }
}


var searchid = &#039;1218273364&#039;;
var markup = &#039;&#039;;

function genfn(i) {
    var fn = function(result) {
        //console.log(i); console.log(result); 
        for (var j = 0; j &amp;lt; result.length; j++) {
            if (result[j] == searchid) {
                Log.info(&#039;foaf search match&#039;, people.data[i]);
                markup = (
                  &#039;&amp;lt;fb:profile-pic size=&amp;quot;square&amp;quot; &#039; +
                          &#039;uid=&amp;quot;&#039; + people.data[i].id + &#039;&amp;quot; &#039; +
                          &#039;facebook-logo=&amp;quot;true&amp;quot;&#039; +
                          &#039;&amp;gt;&amp;lt;/fb:profile-pic&amp;gt;&#039;
                );
                var profilePicsDiv = document.getElementById(&#039;profile_pics&#039;);
                profilePicsDiv.innerHTML += markup;
                FB.XFBML.parse(profilePicsDiv);
            }
        }
    };
    return fn;
}

for (var i = 0; i &amp;lt; people.data.length; i++) {
    person = people.data[i];
    FB.api({method: &#039;friends.getMutualFriends&#039;, target_uid : person.id}, genfn(i));
}

});

&amp;lt;/script&amp;gt;

&lt;/pre&gt;&lt;p&gt;
As you can see, I prefetched the results from searching &quot;Tomo&quot; and I set the id of a friend whose &quot;Tomo&quot; friends I wanted to find.  This searches the results and filters for people who have the mutual friend 1218273364.  &lt;/p&gt;
&lt;p&gt;To go further, one should have controls for choosing the search term, automatically fetch search results and page through them to find more results, and have a control for choosing the mutual friend.  This will allow you to search for mutual friends even if you don&#039;t have permission to view a friend&#039;s friends.  Turning this into an app or Chrome extension is left as an exercise to the reader. :)&lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/b/find-friends-friend-facebook#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech">Tech</category>
 <category domain="http://www.saigonist.com/category/tags/api">api</category>
 <category domain="http://www.saigonist.com/category/tags/facebook">facebook</category>
 <category domain="http://www.saigonist.com/category/tags/foaf">foaf</category>
 <category domain="http://www.saigonist.com/category/tags/graph">graph</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <pubDate>Thu, 17 Nov 2011 18:08:39 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">270 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>jQuery bug with FireFox: z.indexOf is not a function</title>
    <link>http://www.saigonist.com/content/jquery-bug-firefox-zindexof-not-function</link>
    <description>&lt;p&gt;I&#039;ve tracked down a source of the bug which breaks jquery (1.2.6) in FireFox (Chrome is fine) where you&#039;ll see a debug message of &quot;z.indexOf is not a function&quot;.  If you&#039;re running a minified jquery then the line number won&#039;t help locate the bug, but in this case it was around line 1715:&lt;/p&gt;
&lt;p&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;javascript geshifilter-javascript&quot; style=&quot;font-family:monospace;&quot;&gt;type &lt;span style=&quot;color: #339933;&quot;&gt;==&lt;/span&gt; &lt;span style=&quot;color: #3366CC;&quot;&gt;&amp;quot;^=&amp;quot;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; z &lt;span style=&quot;color: #339933;&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #339933;&quot;&gt;!&lt;/span&gt;z.&lt;span style=&quot;color: #660066;&quot;&gt;indexOf&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#40;&lt;/span&gt;m&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&quot;color: #CC0000;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&amp;#41;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;This code is triggered by jquery attribute filters like ^= (starts with) or *= or ~= and in this case I found that if z had been 0 then the code which checks &quot;&amp;amp;&amp;amp; z&quot; would short circuit and not try to reference indexOf of z.&lt;/p&gt;
&lt;p&gt;Looking deeper, I found that z == -1 (not a string) and that this was because I was filtering on the &#039;value&#039; attribute, and that in FireFox, the &#039;li&#039; node was being given some value of -1.  You can check this by running &quot;$(&#039;li&#039;)&quot; and checking out the returned values.  In Chrome, there is no value.  This difference causes a bug in FireFox.&lt;/p&gt;
&lt;p&gt;One workaround is to use only use attribute filters when using selectors that select for specific tags which exclude &#039;li&#039;, at least for filtering on &#039;value&#039;.  For example, use &#039;input[value^=whatever]&#039; instead of just &#039;[value^=whatever]&#039;.&lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/content/jquery-bug-firefox-zindexof-not-function#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech">Tech</category>
 <category domain="http://www.saigonist.com/category/tags/drupal">drupal</category>
 <category domain="http://www.saigonist.com/category/tags/firefox">firefox</category>
 <category domain="http://www.saigonist.com/category/tags/hide-submit">hide submit</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <category domain="http://www.saigonist.com/category/tags/jquery">jquery</category>
 <category domain="http://www.saigonist.com/category/tags/maxlength">maxlength</category>
 <category domain="http://www.saigonist.com/category/tags/selector">selector</category>
 <pubDate>Wed, 02 Feb 2011 12:05:43 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">36 at http://www.saigonist.com</guid>
  </item>
  <item>
    <title>Simple Way to Download YouTube HTML5 Videos</title>
    <link>http://www.saigonist.com/content/simple-download-youtube-html5</link>
    <description>&lt;p&gt;A lot of the existing YouTube video download scripts don&#039;t work today as YouTube have changed their &quot;API&quot; so those hacks no longer work.  Programs that simple detect whatever media files get downloaded should still work.&lt;/p&gt;
&lt;p&gt;Here&#039;s a dead simple way to download HTML5 videos from YouTube.  Drag the following link to your bookmark bar.  In Chrome, you have to set &quot;Always show bookmark bar&quot; for this to make sense. &lt;/p&gt;
&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;javascript:void(open(document.getElementsByTagName(&#039;video&#039;)[0].getAttribute(&#039;src&#039;)))&quot;&gt;Tubelet&lt;/a&gt; &lt;/p&gt;
</description>
     <comments>http://www.saigonist.com/content/simple-download-youtube-html5#comments</comments>
 <category domain="http://www.saigonist.com/category/type/tech">Tech</category>
 <category domain="http://www.saigonist.com/category/tags/html5">html5</category>
 <category domain="http://www.saigonist.com/category/tags/javascript">javascript</category>
 <category domain="http://www.saigonist.com/category/tags/video">video</category>
 <category domain="http://www.saigonist.com/category/tags/youtube">youtube</category>
 <pubDate>Tue, 23 Nov 2010 20:52:11 +0000</pubDate>
 <dc:creator>tomo</dc:creator>
 <guid isPermaLink="false">20 at http://www.saigonist.com</guid>
  </item>
  </channel>
</rss>